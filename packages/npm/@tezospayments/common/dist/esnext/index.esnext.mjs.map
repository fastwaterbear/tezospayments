{"version":3,"file":"index.esnext.mjs","sources":["../../src/utils/converters.ts","../../src/utils/guards.ts","../../src/utils/memoize.ts","../../src/utils/optimization.ts","../../src/utils/shallowEqual.ts","../../src/utils/text.ts","../../src/utils/index.ts","../../src/helpers/serviceLinkHelper.ts","../../src/models/payment/paymentBase.ts","../../src/native/index.ts","../../src/helpers/paymentParser/paymentParserBase.ts","../../src/helpers/paymentParser/paymentParser.ts","../../src/helpers/paymentParser/donationParser.ts","../../src/helpers/paymentValidator/paymentValidatorBase.ts","../../src/models/blockchain/network.ts","../../src/models/blockchain/token.ts","../../src/models/blockchain/tezosInfo.ts","../../src/helpers/paymentValidator/validationMethods.ts","../../src/helpers/paymentValidator/paymentValidator.ts","../../src/helpers/paymentValidator/donationValidator.ts","../../src/models/core/stateModel.ts","../../src/models/payment/payment.ts","../../src/models/payment/donation.ts","../../src/models/routing/parameterizedRoute.ts","../../src/models/service/serviceOperationType.ts","../../src/models/service/service.ts","../../src/models/service/serviceOperation.ts","../../src/models/service/serviceOperationDirection.ts","../../src/models/service/serviceOperationStatus.ts"],"sourcesContent":["import { Buffer } from 'buffer';\n\nexport const stringToUint8Array = (hex: string): Uint8Array => {\n  const integers = hex.match(/[\\da-f]{2}/gi)?.map(val => parseInt(val, 16));\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return new Uint8Array(integers!);\n};\n\nexport const stringToBytes = (value: string): string => Buffer.from(value, 'utf8').toString('hex');\nexport const bytesToString = (value: string): string => Buffer.from(stringToUint8Array(value)).toString('utf8');\n\nexport const objectToBytes = (value: Record<string, unknown>): string => stringToBytes(JSON.stringify(value));\nexport const bytesToObject = <T extends Record<string, unknown> = Record<string, unknown>>(value: string): T | null => {\n  try {\n    return JSON.parse(bytesToString(value));\n  }\n  catch {\n    return null;\n  }\n};\n\nexport function tezToMutez(tez: number): number;\nexport function tezToMutez(tez: bigint): bigint;\nexport function tezToMutez(tez: bigint | number): bigint | number {\n  return typeof tez === 'number'\n    ? tez * 1000000\n    : tez * BigInt(1000000);\n}\n","import isPlainObjectLodashFunction from 'lodash.isplainobject';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const isArray = (arg: any): arg is any[] => {\n  return Array.isArray(arg);\n};\n\nexport const isReadonlyArray = (arg: unknown): arg is readonly unknown[] => {\n  return Array.isArray(arg);\n};\n\nexport const isPlainObject = <T extends Record<string, unknown> = Record<string, unknown>>(value: unknown): value is T => {\n  return isPlainObjectLodashFunction(value);\n};\n","const defaultEqualityCheck = <T>(a: T, b: T) => a === b;\n\nconst areArgumentsShallowlyEqual = <T extends IArguments | null>(equalityCheck: (a: T, b: T) => boolean, prev: T, next: T) => {\n    if (prev === null || next === null || prev.length !== next.length) {\n        return false;\n    }\n\n    // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n    const length = prev.length;\n    for (let i = 0; i < length; i++) {\n        if (!equalityCheck(prev[i], next[i])) {\n            return false;\n        }\n    }\n\n    return true;\n};\n\n/* eslint-disable prefer-rest-params  */\n/* eslint-disable prefer-spread */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const memoize = <TF extends (...args: any) => any>(func: TF, equalityCheck = defaultEqualityCheck): TF => {\n    let lastArgs: IArguments | null = null;\n    let lastResult: unknown = null;\n\n    return (function () {\n        if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n            // apply arguments instead of spreading for performance.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            lastResult = func.apply(null, arguments as any);\n        }\n\n        lastArgs = arguments;\n        return lastResult;\n    } as TF);\n};\n/* eslint-enable prefer-spread */\n/* eslint-enable prefer-rest-params */\n/* eslint-enable @typescript-eslint/no-explicit-any */\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nconst emptyArray: any[] = [];\nconst emptyObject = {};\nconst emptyMap = new Map();\nconst emptySet: Set<any> = new Set();\n\nexport default {\n    emptyArray,\n    emptyMap,\n    emptySet,\n    emptyObject\n};\n","const is = (x: unknown, y: unknown) => {\n    return (x === y)\n        ? x !== 0 || y !== 0 || (1 / x) === (1 / y)\n        : x !== x && y !== y;\n};\n\nexport default function shallowEqual(objA: unknown, objB: unknown) {\n    if (is(objA, objB))\n        return true;\n\n    if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null)\n        return false;\n\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n\n    if (keysA.length !== keysB.length)\n        return false;\n\n    for (let i = 0; i < keysA.length; i++) {\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        /* eslint-disable @typescript-eslint/no-non-null-assertion */\n\n        if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]!)\n            || !is((objA as any)[keysA[i]!], (objB as any)[keysA[i]!])\n        )\n            return false;\n\n        /* eslint-enable @typescript-eslint/no-non-null-assertion */\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n    }\n\n    return true;\n}\n","export const capitalize = (value: string): string => value && (value[0]?.toLocaleUpperCase() + value.slice(1));\n\nexport const getAvatarText = (value: string, maxLength = 2) => {\n  if (!value || !maxLength)\n    return '';\n\n  let result = '';\n\n  for (let i = 0, j = 0, isWord = false; i < value.length; i++) {\n    if (!isWord && value[i] !== ' ') {\n      isWord = true;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      result += value[i]!;\n\n      if (++j === maxLength)\n        return result;\n    }\n    else if (isWord && value[i] === ' ') {\n      isWord = false;\n    }\n  }\n\n  return result;\n};\n","import combineClassNames from 'clsx';\n\nimport * as converters from './converters';\nimport * as guards from './guards';\nimport { memoize } from './memoize';\nimport optimization from './optimization';\nimport shallowEqual from './shallowEqual';\nimport * as text from './text';\n\nconst wait = (ms: number) => new Promise<void>(resolve => setTimeout(resolve, ms));\n\nexport {\n  wait,\n  combineClassNames,\n  memoize,\n  shallowEqual,\n  optimization,\n  guards,\n  text,\n  converters\n};\n","import { memoize } from '../utils';\n\nexport enum IconId {\n  Common = 0,\n  Email = 1,\n  Telegram = 2,\n  Facebook = 3,\n  Twitter = 4,\n  Instagram = 5,\n  GitHub = 6,\n  Reddit = 7\n}\n\ninterface LinkInfo {\n  readonly rawLink: string;\n  readonly formattedLink: string;\n  readonly displayLink: string;\n  readonly icon: IconId;\n}\n\nconst getInvalidLinkInfo = (link: string): LinkInfo => ({\n  rawLink: link,\n  formattedLink: '#',\n  displayLink: 'Invalid Link',\n  icon: IconId.Common\n});\n\ntype LinkInfoProvider = (link: string) => LinkInfo | false;\n\nconst prepareFormattedLink = memoize((link: string) => link.trim());\nconst prepareDisplayLink = memoize((link: string) => link.trim().replace(/\\/$/, ''));\n\nconst socialMediaLinkInfoProvider = (link: string, baseUrl: string, icon: IconId): LinkInfo | false => {\n  if (!link.startsWith(baseUrl))\n    return false;\n\n  const formattedLink = prepareFormattedLink(link);\n  if (formattedLink == baseUrl)\n    return false;\n\n  return {\n    rawLink: link,\n    formattedLink,\n    displayLink: prepareDisplayLink(link).replace(baseUrl, ''),\n    icon\n  };\n};\n\nconst telegramLinkInfoProvider: LinkInfoProvider = link => socialMediaLinkInfoProvider(link, 'https://t.me/', IconId.Telegram);\nconst facebookLinkInfoProvider: LinkInfoProvider = link => socialMediaLinkInfoProvider(link, 'https://facebook.com/', IconId.Facebook);\nconst twitterLinkInfoProvider: LinkInfoProvider = link => socialMediaLinkInfoProvider(link, 'https://twitter.com/', IconId.Twitter);\nconst instagramLinkInfoProvider: LinkInfoProvider = link => socialMediaLinkInfoProvider(link, 'https://instagram.com/', IconId.Instagram);\nconst gitHubLinkInfoProvider: LinkInfoProvider = link => socialMediaLinkInfoProvider(link, 'https://github.com/', IconId.GitHub);\nconst redditLinkInfoProvider: LinkInfoProvider = link => socialMediaLinkInfoProvider(link, 'https://www.reddit.com/', IconId.Reddit);\n\n// This regex should not use for email validation\nconst emailCheckingRegEx = /^[^\\s/@]+@[^\\s@/]+$/;\nconst emailLinkInfoProvider: LinkInfoProvider = link => {\n  const preparedFormattedLink = prepareFormattedLink(link);\n\n  return emailCheckingRegEx.test(preparedFormattedLink) && {\n    rawLink: link,\n    formattedLink: `mailto:${preparedFormattedLink}`,\n    displayLink: prepareDisplayLink(link),\n    icon: IconId.Email\n  };\n};\n\nconst javascriptLinkInfoProvider: LinkInfoProvider = link => link.startsWith('javascript') ? getInvalidLinkInfo(link) : false;\n\n// https://datatracker.ietf.org/doc/html/rfc3986#section-3.1\nconst urlSchemeRegEx = /^([a-z][a-z0-9+\\-.]*):/;\nconst commonLinkInfoProvider: LinkInfoProvider = link => {\n  const formattedLink = prepareFormattedLink(link);\n\n  return urlSchemeRegEx.test(formattedLink) && {\n    rawLink: link,\n    formattedLink,\n    displayLink: prepareDisplayLink(link),\n    icon: IconId.Common\n  };\n};\n\nconst editLinkInfoProvider: LinkInfoProvider = link => {\n  const formattedLink = prepareFormattedLink(link);\n\n  return {\n    rawLink: link,\n    formattedLink,\n    displayLink: prepareDisplayLink(link),\n    icon: IconId.Common\n  };\n};\n\nexport class ServiceLinkHelper {\n  // Order is important\n  static readonly linkInfoProviders: readonly LinkInfoProvider[] = [\n    // Disallowed\n    javascriptLinkInfoProvider,\n    // Allowed\n    telegramLinkInfoProvider,\n    facebookLinkInfoProvider,\n    twitterLinkInfoProvider,\n    instagramLinkInfoProvider,\n    gitHubLinkInfoProvider,\n    emailLinkInfoProvider,\n    redditLinkInfoProvider,\n    commonLinkInfoProvider\n  ];\n\n  getLinkInfo(link: string, isEditMode = false): LinkInfo | null {\n    for (const provider of ServiceLinkHelper.linkInfoProviders) {\n      const linkInfo = provider(link);\n\n      if (linkInfo)\n        return this.linkInfoIsValid(linkInfo) ? linkInfo : null;\n    }\n\n    if (isEditMode)\n      return editLinkInfoProvider(link) as LinkInfo;\n\n    return null;\n  }\n\n  linkInfoIsValid(linkInfo: LinkInfo) {\n    return linkInfo.formattedLink !== '#';\n  }\n}\n","import { URL } from '../../native';\n\nexport enum PaymentType {\n  Payment = 1,\n  Donation = 2\n}\n\nexport type PaymentUrl =\n  | { type: 'base64', url: URL };\n\nexport interface PaymentBase {\n  readonly type: PaymentType;\n  readonly targetAddress: string;\n  readonly urls: readonly PaymentUrl[];\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { URL as NodeURL } from 'url';\n\nexport type URL = NodeURL;\nexport const URL = NodeURL || (globalThis as any).URL;\n","import { Buffer } from 'buffer';\n\nimport { PaymentBase } from '../../models/payment/paymentBase';\n\nexport type PaymentFieldInfoType = 'object' | 'string' | 'number' | 'undefined' | 'null';\n\nexport abstract class PaymentParserBase<\n  TPayment extends PaymentBase,\n  TRawPayment extends Record<string, unknown>,\n  TValidRawPayment extends TRawPayment,\n  TNonIncludedFields extends Record<string, unknown>\n  > {\n  private _minPaymentFieldsCount: number | undefined;\n\n  protected abstract get paymentFieldTypes(): ReadonlyMap<keyof TRawPayment, PaymentFieldInfoType | readonly PaymentFieldInfoType[]>;\n\n  private get minPaymentFieldsCount() {\n    if (!this._minPaymentFieldsCount) {\n      let count = 0;\n      for (const info of this.paymentFieldTypes) {\n        if (typeof info[1] === 'string' ? info[1] !== 'undefined' : info[1].every(type => type !== 'undefined'))\n          count++;\n      }\n\n      this._minPaymentFieldsCount = count;\n    }\n\n    return this._minPaymentFieldsCount;\n  }\n\n  private get maxPaymentFieldsCount() {\n    return this.paymentFieldTypes.size;\n  }\n\n  parse(paymentBase64: string, nonIncludedFields: TNonIncludedFields): TPayment | null {\n    try {\n      let rawPayment: TRawPayment;\n\n      if (paymentBase64) {\n        const paymentString = Buffer.from(paymentBase64, 'base64').toString('utf8');\n        rawPayment = JSON.parse(paymentString);\n      }\n      else\n        rawPayment = {} as TRawPayment;\n\n      return this.validateAndMapRawPaymentToPayment(rawPayment, nonIncludedFields);\n    }\n    catch {\n      return null;\n    }\n  }\n\n  protected abstract mapRawPaymentToPayment(rawPayment: TValidRawPayment, nonIncludedFields: TNonIncludedFields): TPayment;\n\n  private validateAndMapRawPaymentToPayment(rawPayment: TRawPayment, nonIncludedFields: TNonIncludedFields): TPayment | null {\n    return this.validateRawPayment(rawPayment)\n      ? this.mapRawPaymentToPayment(rawPayment, nonIncludedFields)\n      : null;\n  }\n\n  private validateRawPayment(rawPayment: TRawPayment): rawPayment is TValidRawPayment {\n    const rawPaymentFieldNames = Object.getOwnPropertyNames(rawPayment) as ReadonlyArray<keyof TRawPayment>;\n\n    // Prevent the field checking if the rawPayment has an invalid number of fields\n    if (rawPaymentFieldNames.length < this.minPaymentFieldsCount || rawPaymentFieldNames.length > this.maxPaymentFieldsCount)\n      return false;\n\n    for (const [rawPaymentFieldName, expectedPaymentFieldType] of this.paymentFieldTypes) {\n      const actualPaymentFieldType = typeof rawPayment[rawPaymentFieldName];\n\n      if (Array.isArray(expectedPaymentFieldType)\n        ? !expectedPaymentFieldType.some(expectedType => actualPaymentFieldType === expectedType)\n        : actualPaymentFieldType !== expectedPaymentFieldType\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n","import { BigNumber } from 'bignumber.js';\n\nimport type { Payment } from '../../models/payment';\nimport { PaymentType } from '../../models/payment/paymentBase';\nimport { URL } from '../../native';\nimport { PaymentFieldInfoType, PaymentParserBase } from './paymentParserBase';\n\ntype RawPaymentBase = {\n  amount: string;\n  data: Payment['data'];\n  created: number;\n  asset?: string;\n  successUrl?: string;\n  cancelUrl?: string;\n  expired?: number;\n};\n\nexport type RawPayment = Partial<RawPaymentBase>;\nexport type ValidRawPayment = RawPaymentBase;\nexport type NonIncludedPaymentFields = Pick<Payment, 'type' | 'targetAddress' | 'urls'>;\n\nexport class PaymentParser extends PaymentParserBase<Payment, RawPayment, ValidRawPayment, NonIncludedPaymentFields> {\n  private _paymentFieldTypes: ReadonlyMap<\n    keyof RawPayment, PaymentFieldInfoType | readonly PaymentFieldInfoType[]\n  > = new Map<keyof RawPayment, PaymentFieldInfoType | readonly PaymentFieldInfoType[]>()\n    .set('amount', 'string')\n    .set('data', 'object')\n    .set('asset', ['string', 'undefined', 'null'])\n    .set('successUrl', ['string', 'undefined', 'null'])\n    .set('cancelUrl', ['string', 'undefined', 'null'])\n    .set('created', 'number')\n    .set('expired', ['number', 'undefined', 'null']);\n\n  protected get paymentFieldTypes() {\n    return this._paymentFieldTypes;\n  }\n\n  protected mapRawPaymentToPayment(rawPayment: ValidRawPayment, nonIncludedFields: NonIncludedPaymentFields): Payment {\n    return {\n      type: PaymentType.Payment,\n      amount: new BigNumber(rawPayment.amount),\n      data: rawPayment.data,\n      asset: rawPayment.asset,\n      successUrl: rawPayment.successUrl ? new URL(rawPayment.successUrl) : undefined,\n      cancelUrl: rawPayment.cancelUrl ? new URL(rawPayment.cancelUrl) : undefined,\n      created: new Date(rawPayment.created),\n      expired: rawPayment.expired ? new Date(rawPayment.expired) : undefined,\n      targetAddress: nonIncludedFields.targetAddress,\n      urls: nonIncludedFields.urls\n    };\n  }\n}\n","import { BigNumber } from 'bignumber.js';\n\nimport type { Donation } from '../../models/payment/donation';\nimport { PaymentType } from '../../models/payment/paymentBase';\nimport { URL } from '../../native';\nimport { PaymentFieldInfoType, PaymentParserBase } from './paymentParserBase';\n\ntype RawDonationBase = {\n  desiredAmount?: string;\n  desiredAsset?: string;\n  successUrl?: string;\n  cancelUrl?: string;\n};\n\nexport type RawDonation = Partial<RawDonationBase>;\nexport type ValidRawDonation = RawDonationBase;\nexport type NonIncludedDonationFields = Pick<Donation, 'type' | 'targetAddress' | 'urls'>;\n\nexport class DonationParser extends PaymentParserBase<Donation, RawDonation, ValidRawDonation, NonIncludedDonationFields> {\n  private _paymentFieldTypes: ReadonlyMap<\n    keyof RawDonation, PaymentFieldInfoType | readonly PaymentFieldInfoType[]\n  > = new Map<keyof RawDonation, PaymentFieldInfoType | readonly PaymentFieldInfoType[]>()\n    .set('desiredAmount', ['string', 'undefined', 'null'])\n    .set('desiredAsset', ['string', 'undefined', 'null'])\n    .set('successUrl', ['string', 'undefined', 'null'])\n    .set('cancelUrl', ['string', 'undefined', 'null']);\n\n  protected get paymentFieldTypes() {\n    return this._paymentFieldTypes;\n  }\n\n  protected mapRawPaymentToPayment(rawDonation: ValidRawDonation, nonIncludedFields: NonIncludedDonationFields): Donation {\n    return {\n      type: PaymentType.Donation,\n      desiredAmount: rawDonation.desiredAmount ? new BigNumber(rawDonation.desiredAmount) : undefined,\n      desiredAsset: rawDonation.desiredAsset,\n      successUrl: rawDonation.successUrl ? new URL(rawDonation.successUrl) : undefined,\n      cancelUrl: rawDonation.cancelUrl ? new URL(rawDonation.cancelUrl) : undefined,\n      targetAddress: nonIncludedFields.targetAddress,\n      urls: nonIncludedFields.urls\n    };\n  }\n}\n","import { PaymentBase } from '../../models/payment/paymentBase';\nimport type { FailedValidationResults } from '../../models/validation';\nimport { guards } from '../../utils';\nimport { PaymentValidationMethod } from './paymentValidationMethod';\n\nexport abstract class PaymentValidatorBase<TPayment extends PaymentBase> {\n  protected readonly abstract validationMethods: ReadonlyArray<PaymentValidationMethod<TPayment>>;\n  protected readonly abstract invalidPaymentObjectError: string;\n\n  validate(payment: TPayment, bail = false): FailedValidationResults {\n    if (!guards.isPlainObject(payment))\n      return [this.invalidPaymentObjectError];\n\n    const failedValidationResults: FailedValidationResults = bail ? [] : undefined;\n    for (const validationMethod of this.validationMethods) {\n      const currentFailedValidationResults = validationMethod(payment);\n      if (currentFailedValidationResults) {\n        if (!bail)\n          return currentFailedValidationResults;\n\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        failedValidationResults!.concat(currentFailedValidationResults);\n      }\n    }\n\n    return failedValidationResults;\n  }\n}\n","const networksInternal = {\n  // mainnet: {\n  //   id: 'NetXdQprcVkpaWU',\n  //   name: 'mainnet',\n  // },\n  granadanet: {\n    id: 'NetXz969SFaFn8k',\n    name: 'granadanet',\n  },\n  edo2net: {\n    id: 'NetXSgo1ZT2DRUG',\n    name: 'edo2net',\n  }\n} as const;\n\ninterface NetworkInternal {\n  readonly id: string;\n  readonly name: string;\n}\n\ntype Networks = {\n  readonly [P in keyof typeof networksInternal]: (typeof networksInternal)[P] extends NetworkInternal & {\n    readonly name: P;\n  }\n  ? (typeof networksInternal)[P]\n  : never\n};\n\nexport type Network = Networks[keyof Networks];\n\nexport const networks: Networks = networksInternal;\nexport const networksCollection = Object.values(networksInternal);\n","import { Network, networks } from './network';\n\ninterface TokenBase {\n  readonly network: Network;\n  readonly contractAddress: string;\n  readonly metadata?: TokenMetadata;\n}\n\nexport interface TokenFA12 extends TokenBase {\n  readonly type: 'fa1.2';\n}\n\nexport interface TokenFA2 extends TokenBase {\n  readonly type: 'fa2';\n  readonly fa2TokenId: number;\n}\n\nexport type Token = TokenFA12 | TokenFA2;\n\nexport type TokenMetadata = {\n  readonly decimals: number;\n  readonly symbol: string;\n  readonly name: string;\n  readonly thumbnailUri: string;\n};\n\nexport const tezosMeta: TokenMetadata = {\n  symbol: 'XTZ',\n  name: 'Tezos',\n  decimals: 6,\n  // eslint-disable-next-line max-len\n  thumbnailUri: 'data:image/png;base64,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'\n};\n\nexport const tokenWhitelist: readonly Token[] = [\n  // {\n  //   network: networks.mainnet,\n  //   type: 'fa1.2',\n  //   contractAddress: 'KT1K9gCRgaLRFKTErYt1wVxA3Frb9FjasjTV',\n  //   metadata: {\n  //     decimals: 18,\n  //     symbol: 'KUSD',\n  //     name: 'Kolibri',\n  //     thumbnailUri: 'https://kolibri-data.s3.amazonaws.com/logo.png',\n  //   },\n  // },\n  // {\n  //   network: networks.mainnet,\n  //   type: 'fa2',\n  //   contractAddress: 'KT1REEb5VxWRjcHm5GzDMwErMmNFftsE5Gpf',\n  //   fa2TokenId: 0,\n  //   metadata: {\n  //     decimals: 6,\n  //     symbol: 'USDS',\n  //     name: 'Stably USD',\n  //     thumbnailUri: 'https://quipuswap.com/tokens/stably.png',\n  //   },\n  // },\n  {\n    network: networks.edo2net,\n    type: 'fa2',\n    contractAddress: 'KT1Mn2HUUKUPg8wiQhUJ8Z9jUtZLaZn8EWL2',\n    fa2TokenId: 0,\n    metadata: {\n      decimals: 0,\n      symbol: 'MBRG',\n      name: 'MAX BURGER',\n      thumbnailUri: 'https://quipuswap.com/tokens/stably.png',\n    },\n  }\n];\n\nexport const tokenWhitelistMap: ReadonlyMap<Token['contractAddress'], Token> = new Map<Token['contractAddress'], Token>(\n  tokenWhitelist.map(token => [token.contractAddress, token])\n);\n","const contractAddressPrefixes = ['KT'] as const;\nconst implicitAddressPrefixes = ['tz1', 'tz2', 'tz3'] as const;\nconst addressPrefixes = [...contractAddressPrefixes, ...implicitAddressPrefixes] as const;\n\nexport const tezosInfo = {\n  addressLength: 36,\n  contractAddressPrefixes,\n  implicitAddressPrefixes,\n  addressPrefixes,\n} as const;\n","import { BigNumber } from 'bignumber.js';\n\nimport { tezosInfo } from '../../models/blockchain';\nimport { Payment } from '../../models/payment';\nimport type { FailedValidationResults } from '../../models/validation';\nimport { URL } from '../../native';\nimport { guards } from '../../utils';\n\ntype Errors<FieldNames extends string> = {\n  readonly [P in FieldNames]: string;\n};\n\nexport const validateTargetAddress = (\n  targetAddress: string,\n  errors: Errors<'invalidTargetAddress' | 'targetAddressHasInvalidLength' | 'targetAddressIsNotNetworkAddress'>\n): FailedValidationResults => {\n  if (typeof targetAddress !== 'string')\n    return [errors.invalidTargetAddress];\n\n  if (targetAddress.length !== tezosInfo.addressLength)\n    return [errors.targetAddressHasInvalidLength];\n\n  if (!tezosInfo.addressPrefixes.some(prefix => targetAddress.startsWith(prefix)))\n    return [errors.targetAddressIsNotNetworkAddress];\n};\n\nexport const validateAmount = (\n  amount: BigNumber,\n  errors: Errors<'invalidAmount' | 'amountIsNegative'>\n): FailedValidationResults => {\n  if (!BigNumber.isBigNumber(amount) || amount.isNaN() || !amount.isFinite())\n    return [errors.invalidAmount];\n\n  if (amount.isNegative())\n    return [errors.amountIsNegative];\n};\n\nexport const validateDesiredAmount = (\n  desiredAmount: BigNumber | undefined,\n  errors: Errors<'invalidAmount' | 'amountIsNegative'>\n): FailedValidationResults => {\n  return desiredAmount === undefined ? undefined : validateAmount(desiredAmount, errors);\n};\n\nexport const validateAsset = (\n  asset: string | undefined,\n  errors: Errors<'invalidAsset' | 'assetHasInvalidLength' | 'assetIsNotContractAddress'>\n): FailedValidationResults => {\n  if (asset === undefined)\n    return;\n\n  if (typeof asset !== 'string')\n    return [errors.invalidAsset];\n\n  if (asset.length !== tezosInfo.addressLength)\n    return [errors.assetHasInvalidLength];\n\n  if (!tezosInfo.contractAddressPrefixes.some(prefix => asset.startsWith(prefix)))\n    return [errors.assetIsNotContractAddress];\n};\n\nexport const validateCreatedDate = (\n  date: Date,\n  errors: Errors<'invalidCreatedDate'>\n): FailedValidationResults => {\n  if (!(date instanceof Date))\n    return [errors.invalidCreatedDate];\n};\n\nexport const validateUrl = (\n  url: URL | undefined,\n  errors: Errors<'invalidUrl' | 'invalidProtocol'>\n): FailedValidationResults => {\n  if (url === undefined)\n    return;\n\n  if (!(url instanceof URL))\n    return [errors.invalidUrl];\n\n  if (url.protocol.indexOf('javascript') > -1)\n    return [errors.invalidProtocol];\n};\n\nexport const validateExpiredDate = (\n  expiredDate: Date | undefined,\n  createdDate: Date,\n  minimumPaymentLifetime: number,\n  errors: Errors<'invalidExpiredDate' | 'paymentLifetimeIsShort'>\n): FailedValidationResults => {\n  if (expiredDate === undefined)\n    return;\n\n  if (!(expiredDate instanceof Date))\n    return [errors.invalidExpiredDate];\n\n  if (expiredDate.getTime() - createdDate.getTime() < minimumPaymentLifetime) {\n    return [errors.paymentLifetimeIsShort];\n  }\n};\n\nexport const validateData = (\n  data: Payment['data'],\n  errors: Errors<'invalidData' | 'invalidPublicData' | 'publicDataShouldBeFlat' | 'invalidPrivateData' | 'privateDataShouldBeFlat'>\n): FailedValidationResults => {\n  if (!guards.isPlainObject(data) || Object.keys(data).some(key => key !== 'public' && key !== 'private'))\n    return [errors.invalidData];\n\n  const publicData = (data as Exclude<Payment['data'], { private: unknown }>).public;\n  const privateData = (data as Exclude<Payment['data'], { public: unknown }>).private;\n  if (!(publicData || privateData))\n    return [errors.invalidData];\n\n  if (publicData !== undefined) {\n    if (!guards.isPlainObject(publicData))\n      return [errors.invalidPublicData];\n    if (!isFlatObject(publicData))\n      return [errors.publicDataShouldBeFlat];\n  }\n\n  if (privateData !== undefined) {\n    if (!guards.isPlainObject(privateData))\n      return [errors.invalidPrivateData];\n    if (!isFlatObject(privateData))\n      return [errors.privateDataShouldBeFlat];\n  }\n};\n\nconst isFlatObject = (obj: Record<string, unknown>) => {\n  for (const propertyName of Object.getOwnPropertyNames(obj)) {\n    const property = obj[propertyName];\n    if (typeof property === 'object' || typeof property === 'function')\n      return false;\n  }\n\n  return true;\n};\n","import type { Payment } from '../../models/payment';\nimport { PaymentType } from '../../models/payment/paymentBase';\nimport type { PaymentValidationMethod } from './paymentValidationMethod';\nimport { PaymentValidatorBase } from './paymentValidatorBase';\nimport {\n  validateTargetAddress, validateAmount, validateData, validateAsset, validateCreatedDate,\n  validateExpiredDate, validateUrl\n} from './validationMethods';\n\nexport class PaymentValidator extends PaymentValidatorBase<Payment> {\n  static readonly errors = {\n    invalidPaymentObject: 'Payment is undefined or not object',\n    invalidType: 'Payment type is invalid',\n    invalidAmount: 'Amount is invalid',\n    amountIsNegative: 'Amount is less than zero',\n    invalidTargetAddress: 'Target address is invalid',\n    targetAddressIsNotNetworkAddress: 'Target address isn\\'t a network address',\n    targetAddressHasInvalidLength: 'Target address has an invalid address',\n    invalidData: 'Payment data is invalid',\n    invalidPublicData: 'Payment public data is invalid',\n    invalidPrivateData: 'Payment private data is invalid',\n    publicDataShouldBeFlat: 'Public data should be flat',\n    privateDataShouldBeFlat: 'Private data should be flat',\n    invalidAsset: 'Asset address is invalid',\n    assetIsNotContractAddress: 'Asset address isn\\'t a contract address',\n    assetHasInvalidLength: 'Asset address has an invalid address',\n    invalidSuccessUrl: 'Success URL is invalid',\n    successUrlHasInvalidProtocol: 'Success URL has an invalid protocol',\n    invalidCancelUrl: 'Cancel URL is invalid',\n    cancelUrlHasInvalidProtocol: 'Cancel URL has an invalid protocol',\n    invalidCreatedDate: 'Created date is invalid',\n    invalidExpiredDate: 'Expired date is invalid',\n    paymentLifetimeIsShort: 'Payment lifetime is short'\n  } as const;\n  static readonly minimumPaymentLifetime = 600000; // 10 * 60 * 1000;\n\n  protected readonly validationMethods: ReadonlyArray<PaymentValidationMethod<Payment>> = [\n    payment => payment.type !== PaymentType.Payment ? [PaymentValidator.errors.invalidType] : undefined,\n    payment => validateTargetAddress(payment.targetAddress, PaymentValidator.errors),\n    payment => validateAmount(payment.amount, PaymentValidator.errors),\n    payment => validateData(payment.data, PaymentValidator.errors),\n    payment => validateAsset(payment.asset, PaymentValidator.errors),\n    payment => validateUrl(payment.successUrl, PaymentValidator.successUrlErrors),\n    payment => validateUrl(payment.cancelUrl, PaymentValidator.cancelUrlErrors),\n    payment => validateCreatedDate(payment.created, PaymentValidator.errors),\n    payment => validateExpiredDate(payment.expired, payment.created, PaymentValidator.minimumPaymentLifetime, PaymentValidator.errors),\n  ];\n\n  protected readonly invalidPaymentObjectError = PaymentValidator.errors.invalidPaymentObject;\n\n  private static readonly successUrlErrors = {\n    invalidUrl: PaymentValidator.errors.invalidSuccessUrl,\n    invalidProtocol: PaymentValidator.errors.successUrlHasInvalidProtocol\n  };\n\n  private static readonly cancelUrlErrors = {\n    invalidUrl: PaymentValidator.errors.invalidCancelUrl,\n    invalidProtocol: PaymentValidator.errors.cancelUrlHasInvalidProtocol\n  };\n}\n","import type { Donation } from '../../models/payment';\nimport { PaymentType } from '../../models/payment/paymentBase';\nimport type { PaymentValidationMethod } from './paymentValidationMethod';\nimport { PaymentValidatorBase } from './paymentValidatorBase';\nimport { validateTargetAddress, validateDesiredAmount, validateAsset, validateUrl } from './validationMethods';\n\nexport class DonationValidator extends PaymentValidatorBase<Donation> {\n  static readonly errors = {\n    invalidDonationObject: 'Donation is undefined or not object',\n    invalidType: 'Donation type is invalid',\n    invalidAmount: 'Desired amount is invalid',\n    amountIsNegative: 'Desired amount is less than zero',\n    invalidTargetAddress: 'Target address is invalid',\n    targetAddressIsNotNetworkAddress: 'Target address isn\\'t a network address',\n    targetAddressHasInvalidLength: 'Target address has an invalid address',\n    invalidAsset: 'Desired asset address is invalid',\n    assetIsNotContractAddress: 'Desired asset address isn\\'t a contract address',\n    assetHasInvalidLength: 'Desired asset address has an invalid address',\n    invalidSuccessUrl: 'Success URL is invalid',\n    successUrlHasInvalidProtocol: 'Success URL has an invalid protocol',\n    invalidCancelUrl: 'Cancel URL is invalid',\n    cancelUrlHasInvalidProtocol: 'Cancel URL has an invalid protocol'\n  } as const;\n\n  protected readonly validationMethods: ReadonlyArray<PaymentValidationMethod<Donation>> = [\n    donation => donation.type !== PaymentType.Donation ? [DonationValidator.errors.invalidType] : undefined,\n    donation => validateTargetAddress(donation.targetAddress, DonationValidator.errors),\n    donation => validateDesiredAmount(donation.desiredAmount, DonationValidator.errors),\n    donation => validateAsset(donation.desiredAsset, DonationValidator.errors),\n    donation => validateUrl(donation.successUrl, DonationValidator.successUrlErrors),\n    donation => validateUrl(donation.cancelUrl, DonationValidator.cancelUrlErrors)\n  ];\n\n  protected readonly invalidPaymentObjectError = DonationValidator.errors.invalidDonationObject;\n\n  private static readonly successUrlErrors = {\n    invalidUrl: DonationValidator.errors.invalidSuccessUrl,\n    invalidProtocol: DonationValidator.errors.successUrlHasInvalidProtocol\n  };\n\n  private static readonly cancelUrlErrors = {\n    invalidUrl: DonationValidator.errors.invalidCancelUrl,\n    invalidProtocol: DonationValidator.errors.cancelUrlHasInvalidProtocol\n  };\n}\n","export abstract class StateModel {\n    protected constructor() {\n    // All derived classes should be static\n    }\n}\n","import { BigNumber } from 'bignumber.js';\n\nimport { PaymentParser, NonIncludedPaymentFields, PaymentValidator } from '../../helpers';\nimport { URL } from '../../native';\nimport { StateModel } from '../core';\nimport { PaymentBase, PaymentType } from './paymentBase';\n\ninterface PublicPaymentData {\n  readonly public: { readonly [fieldName: string]: unknown; };\n}\n\ninterface PrivatePaymentData {\n  readonly private: { readonly [fieldName: string]: unknown; };\n}\n\ntype PaymentData =\n  | PublicPaymentData\n  | PrivatePaymentData\n  | PublicPaymentData & PrivatePaymentData;\n\nexport interface Payment extends PaymentBase {\n  readonly type: PaymentType.Payment;\n  readonly amount: BigNumber;\n  readonly asset?: string;\n  readonly data: PaymentData;\n  readonly created: Date;\n  readonly expired?: Date;\n  readonly successUrl?: URL;\n  readonly cancelUrl?: URL;\n}\n\nexport class Payment extends StateModel {\n  static readonly defaultParser: PaymentParser = new PaymentParser();\n  static readonly defaultValidator: PaymentValidator = new PaymentValidator();\n\n  static validate(payment: Payment) {\n    return this.defaultValidator.validate(payment);\n  }\n\n  static parse(payment64: string, nonIncludedFields: NonIncludedPaymentFields, parser = Payment.defaultParser): Payment | null {\n    return parser.parse(payment64, nonIncludedFields);\n  }\n\n  static publicDataExists(payment: Payment): payment is Payment & { readonly data: PublicPaymentData };\n  static publicDataExists(paymentData: Payment['data']): paymentData is Payment['data'] & PublicPaymentData;\n  static publicDataExists(\n    paymentOrPaymentDataOrPaymentData: Payment | Payment['data']\n  ): paymentOrPaymentDataOrPaymentData is (Payment & { readonly data: PublicPaymentData }) | (Payment['data'] & PublicPaymentData) {\n    return this.publicDataExistsInternal(paymentOrPaymentDataOrPaymentData);\n  }\n\n  static privateDataExists(payment: Payment): payment is Payment & { readonly data: PrivatePaymentData } {\n    return !!(payment.data as PrivatePaymentData).private;\n  }\n\n  protected static publicDataExistsInternal(\n    paymentOrPaymentDataOrPaymentData: Payment | Payment['data']\n  ): paymentOrPaymentDataOrPaymentData is (Payment & { readonly data: PublicPaymentData }) | (Payment['data'] & PublicPaymentData) {\n    return !!(Payment.isPayment(paymentOrPaymentDataOrPaymentData)\n      ? (paymentOrPaymentDataOrPaymentData.data as PublicPaymentData).public\n      : (paymentOrPaymentDataOrPaymentData as PublicPaymentData).public\n    );\n  }\n\n  private static isPayment(paymentOrPaymentDataOrPaymentData: Payment | Payment['data']): paymentOrPaymentDataOrPaymentData is Payment {\n    return !!(paymentOrPaymentDataOrPaymentData as Payment).amount;\n  }\n}\n","import { BigNumber } from 'bignumber.js';\n\nimport { DonationParser, NonIncludedDonationFields, DonationValidator } from '../../helpers';\nimport { URL } from '../../native';\nimport { StateModel } from '../core';\nimport { PaymentBase, PaymentType } from './paymentBase';\n\nexport interface Donation extends PaymentBase {\n  readonly type: PaymentType.Donation;\n  readonly desiredAmount?: BigNumber;\n  readonly desiredAsset?: string;\n  readonly successUrl?: URL;\n  readonly cancelUrl?: URL;\n}\n\nexport class Donation extends StateModel {\n  static readonly defaultParser: DonationParser = new DonationParser();\n  static readonly defaultValidator: DonationValidator = new DonationValidator();\n\n  static validate(donation: Donation) {\n    return this.defaultValidator.validate(donation);\n  }\n\n  static parse(donationBase64: string, nonIncludedFields: NonIncludedDonationFields, parser = Donation.defaultParser): Donation | null {\n    return parser.parse(donationBase64, nonIncludedFields);\n  }\n}\n\n","// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype ParameterizedRouteFactory = (...args: any[]) => string;\nexport type ParameterizedRoute<Factory extends ParameterizedRouteFactory> = Factory & {\n  readonly template: string;\n};\n\nexport const getParameterizedRoute = <Factory extends ParameterizedRouteFactory>(\n  factory: Factory, template: string\n): ParameterizedRoute<Factory> => {\n  (factory as Factory & { template: string }).template = template;\n\n  return factory as ParameterizedRoute<Factory>;\n};\n","export enum ServiceOperationType {\n  Payment = 1,\n  Donation = 2,\n\n  All = Payment | Donation\n}\n","import { Network, networks } from '../blockchain/network';\nimport { ServiceOperationType } from './serviceOperationType';\n\nexport interface Service {\n  readonly name: string;\n  readonly links: readonly string[];\n  readonly description?: string;\n  readonly iconUrl?: string;\n  readonly version: number;\n  readonly metadata: string;\n\n  readonly contractAddress: string;\n  readonly network: Network;\n  readonly allowedTokens: {\n    readonly tez: boolean;\n    readonly assets: readonly string[];\n  }\n  readonly allowedOperationType: ServiceOperationType;\n\n  readonly owner: string;\n  readonly paused: boolean;\n  readonly deleted: boolean;\n}\n\nexport const emptyService: Service = {\n  name: '',\n  description: '',\n  links: [],\n  version: 0,\n  metadata: '',\n  contractAddress: '',\n  allowedTokens: {\n    tez: true,\n    assets: []\n  },\n  allowedOperationType: ServiceOperationType.Payment,\n  owner: '',\n  paused: false,\n  deleted: false,\n  network: networks.edo2net,\n};\n","import { BigNumber } from 'bignumber.js';\n\nimport { converters } from '../../utils';\nimport { StateModel } from '../core';\nimport { ServiceOperationDirection } from './serviceOperationDirection';\nimport { ServiceOperationStatus } from './serviceOperationStatus';\nimport { ServiceOperationType } from './serviceOperationType';\n\ninterface ServiceOperationPayloadData {\n  readonly value: { readonly [fieldName: string]: unknown; } | null;\n  readonly valueString: string;\n  readonly encodedValue: string;\n}\n\ninterface PublicServiceOperationPayload {\n  readonly public: ServiceOperationPayloadData;\n}\n\ninterface PrivateServiceOperationPayload {\n  readonly private: ServiceOperationPayloadData;\n}\n\ntype ServiceOperationPayload =\n  | PublicServiceOperationPayload\n  | PrivateServiceOperationPayload\n  | PublicServiceOperationPayload & PrivateServiceOperationPayload;\n\nexport interface ServiceOperation {\n  readonly hash: string;\n  readonly type: ServiceOperationType;\n  readonly direction: ServiceOperationDirection;\n  readonly status: ServiceOperationStatus;\n  readonly amount: BigNumber;\n  readonly payload: ServiceOperationPayload;\n  readonly asset?: string;\n  readonly timestamp: string;\n  readonly date: Date;\n  readonly sender: string;\n  readonly target: string;\n}\n\nexport class ServiceOperation extends StateModel {\n  static publicPayloadExists(operation: ServiceOperation): operation is ServiceOperation & { readonly payload: PublicServiceOperationPayload } {\n    return !!(operation.payload as PublicServiceOperationPayload).public;\n  }\n\n  static privatePayloadExists(operation: ServiceOperation): operation is ServiceOperation & { readonly payload: PrivateServiceOperationPayload } {\n    return !!(operation.payload as PrivateServiceOperationPayload).private;\n  }\n\n  static isPayloadDecoded(\n    data: ServiceOperationPayloadData\n  ): data is ServiceOperationPayloadData & { readonly value: NonNullable<ServiceOperationPayloadData['value']> } {\n    return !!data.value;\n  }\n\n  static parseServiceOperationPayload(encodedValue: string): ServiceOperationPayloadData {\n    const valueString = converters.bytesToString(encodedValue);\n\n    let value: ServiceOperationPayloadData['value'] = null;\n    try { value = JSON.parse(valueString); } catch { /**/ }\n\n    return {\n      value,\n      valueString,\n      encodedValue,\n    };\n  }\n}\n","export enum ServiceOperationDirection {\n  Incoming = 0,\n  Outgoing = 1\n}\n","export enum ServiceOperationStatus {\n  Pending = 0,\n  Success = 1,\n  Cancelled = 2\n}\n"],"names":["NodeURL","guards.isPlainObject","converters.bytesToString"],"mappings":"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"}