(this["webpackJsonp@tezospayments/dashboard-react-web"]=this["webpackJsonp@tezospayments/dashboard-react-web"]||[]).push([[0],{11:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return pe})),a.d(t,"b",(function(){return S})),a.d(t,"c",(function(){return G})),a.d(t,"d",(function(){return ve})),a.d(t,"e",(function(){return I})),a.d(t,"f",(function(){return U})),a.d(t,"g",(function(){return ye})),a.d(t,"h",(function(){return ge})),a.d(t,"i",(function(){return fe})),a.d(t,"j",(function(){return he})),a.d(t,"k",(function(){return te})),a.d(t,"m",(function(){return y})),a.d(t,"n",(function(){return Oe})),a.d(t,"o",(function(){return f})),a.d(t,"p",(function(){return L})),a.d(t,"q",(function(){return K})),a.d(t,"r",(function(){return A})),a.d(t,"s",(function(){return C})),a.d(t,"t",(function(){return H})),a.d(t,"u",(function(){return R})),a.d(t,"v",(function(){return _}));var s=a(70),n=a.n(s),i=a(450);a.d(t,"l",(function(){return i.a}));var c=a(37),r=a(521),o=a.n(r),l=a(33),d=a.n(l),u=a(231);const m=e.isEncoding("base64url"),b=(t,a="base64")=>"base64"!==a&&"base64url"!==a?"":(m||(a="base64",t=v.prepareValueForDecoding(t)),e.from(t,a).toString("utf8")),j=(t,a="base64")=>{if("base64"!==a&&"base64url"!==a)return"";if(m)return e.from(t,"utf8").toString(a);const s=e.from(t,"utf8").toString("base64");return v.prepareEncodedValue(s)},v={prepareEncodedValue:e=>e.split("=")[0].replace(/\+/g,"-").replace(/\//g,"_"),prepareValueForDecoding:e=>{switch((e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4){case 0:return e;case 2:return e+"==";case 3:return e+"=";default:throw new Error("Invalid base64url value")}}};const p=e=>{var t;const a=null===(t=e.match(/[\da-f]{2}/gi))||void 0===t?void 0:t.map((e=>parseInt(e,16)));return new Uint8Array(a)},h=e=>c.Buffer.from(e,"utf8").toString("hex"),O=e=>c.Buffer.from(p(e)).toString("utf8");var y=Object.freeze({__proto__:null,stringToUint8Array:p,stringToBytes:h,bytesToString:O,objectToBytes:e=>h(JSON.stringify(e)),bytesToObject:e=>{try{return JSON.parse(O(e))}catch{return null}},tezToMutez:function(e){return"number"===typeof e?1e6*e:e*BigInt(1e6)}});const g=e=>o()(e);var f=Object.freeze({__proto__:null,isArray:e=>Array.isArray(e),isReadonlyArray:e=>Array.isArray(e),isPlainObject:g});const x=(e,t)=>e===t,w=(e,t,a)=>{if(null===t||null===a||t.length!==a.length)return!1;const s=t.length;for(let n=0;n<s;n++)if(!e(t[n],a[n]))return!1;return!0},k=(e,t=x)=>{let a=null,s=null;return function(){return w(t,a,arguments)||(s=e.apply(null,arguments)),a=arguments,s}};var A={emptyArray:[],emptyMap:new Map,emptySet:new Set,emptyObject:{}};var C=Object.freeze({__proto__:null,capitalize:e=>{var t;return e&&(null===(t=e[0])||void 0===t?void 0:t.toLocaleUpperCase())+e.slice(1)},getAvatarText:(e,t=2)=>{if(!e||!t)return"";let a="";for(let s=0,n=0,i=!1;s<e.length;s++)if(i||" "===e[s])i&&" "===e[s]&&(i=!1);else if(i=!0,a+=e[s],++n===t)return a;return a}});const _=e=>new Promise((t=>setTimeout(t,e)));var S;!function(e){e[e.Common=0]="Common",e[e.Email=1]="Email",e[e.Telegram=2]="Telegram",e[e.Facebook=3]="Facebook",e[e.Twitter=4]="Twitter",e[e.Instagram=5]="Instagram",e[e.GitHub=6]="GitHub",e[e.Reddit=7]="Reddit"}(S||(S={}));const N=k((e=>e.trim())),T=k((e=>e.trim().replace(/\/$/,""))),z=(e,t,a)=>{if(!e.startsWith(t))return!1;const s=N(e);return s!==t&&{rawLink:e,formattedLink:s,displayLink:T(e).replace(t,""),icon:a}},P=/^[^\s/@]+@[^\s@/]+$/,D=/^([a-z][a-z0-9+\-.]*):/;class U{getLinkInfo(e,t=!1){for(const a of U.linkInfoProviders){const t=a(e);if(t)return this.linkInfoIsValid(t)?t:null}return t?(e=>({rawLink:e,formattedLink:N(e),displayLink:T(e),icon:S.Common}))(e):null}linkInfoIsValid(e){return"#"!==e.formattedLink}}var I;n()(U,"linkInfoProviders",[e=>!!e.startsWith("javascript")&&(e=>({rawLink:e,formattedLink:"#",displayLink:"Invalid Link",icon:S.Common}))(e),e=>z(e,"https://t.me/",S.Telegram),e=>z(e,"https://facebook.com/",S.Facebook),e=>z(e,"https://twitter.com/",S.Twitter),e=>z(e,"https://instagram.com/",S.Instagram),e=>z(e,"https://github.com/",S.GitHub),e=>{const t=N(e);return P.test(t)&&{rawLink:e,formattedLink:`mailto:${t}`,displayLink:T(e),icon:S.Email}},e=>z(e,"https://www.reddit.com/",S.Reddit),e=>{const t=N(e);return D.test(t)&&{rawLink:e,formattedLink:t,displayLink:T(e),icon:S.Common}}]),function(e){e[e.Payment=1]="Payment",e[e.Donation=2]="Donation"}(I||(I={}));class B{validate(e,t=!1){if(!g(e))return[this.invalidPaymentObjectError];const a=t?[]:void 0;for(const s of this.validationMethods){const n=s(e);if(n){if(!t)return n;a.concat(n)}}return a}}const E={granadanet:{id:"NetXz969SFaFn8k",name:"granadanet"},edo2net:{id:"NetXSgo1ZT2DRUG",name:"edo2net"}},L=E,K=Object.values(E),H={symbol:"XTZ",name:"Tezos",decimals:6,thumbnailUri:"data:image/png;base64,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"},F=[{network:L.edo2net,type:"fa2",contractAddress:"KT1Mn2HUUKUPg8wiQhUJ8Z9jUtZLaZn8EWL2",fa2TokenId:0,metadata:{decimals:0,symbol:"MBRG",name:"MAX BURGER",thumbnailUri:"https://quipuswap.com/tokens/stably.png"}}],R=new Map(F.map((e=>[e.contractAddress,e]))),M=["KT"],Q=["tz1","tz2","tz3"],J={addressLength:36,contractAddressPrefixes:M,implicitAddressPrefixes:Q,addressPrefixes:[...M,...Q]};var G;!function(e){e.Ed25519="Ed25519",e.Secp256k1="Secp256k1",e.P256="P256"}(G||(G={}));const Y=u.URL||globalThis.URL;const W=(e,t)=>"string"!==typeof e?[t.invalidTargetAddress]:e.length!==J.addressLength?[t.targetAddressHasInvalidLength]:J.addressPrefixes.some((t=>e.startsWith(t)))?void 0:[t.targetAddressIsNotNetworkAddress],V=(e,t)=>d.a.isBigNumber(e)&&!e.isNaN()&&e.isFinite()?e.isNegative()?[t.amountIsNegative]:void 0:[t.invalidAmount],Z=(e,t)=>{if(void 0!==e)return"string"!==typeof e?[t.invalidAsset]:e.length!==J.addressLength?[t.assetHasInvalidLength]:J.contractAddressPrefixes.some((t=>e.startsWith(t)))?void 0:[t.assetIsNotContractAddress]},$=(e,t)=>{if(void 0!==e)return e instanceof Y?e.protocol.indexOf("javascript")>-1?[t.invalidProtocol]:void 0:[t.invalidUrl]},q=e=>{for(const t of Object.getOwnPropertyNames(e)){const a=e[t];if("object"===typeof a||"function"===typeof a)return!1}return!0};class X extends B{constructor(...e){super(...e),n()(this,"validationMethods",[e=>e.type!==I.Payment?[X.errors.invalidType]:void 0,e=>W(e.targetAddress,X.errors),e=>V(e.amount,X.errors),e=>((e,t)=>{if(!g(e)||Object.keys(e).some((e=>"public"!==e&&"private"!==e)))return[t.invalidData];const a=e.public,s=e.private;if(!a&&!s)return[t.invalidData];if(void 0!==a){if(!g(a))return[t.invalidPublicData];if(!q(a))return[t.publicDataShouldBeFlat]}if(void 0!==s){if(!g(s))return[t.invalidPrivateData];if(!q(s))return[t.privateDataShouldBeFlat]}})(e.data,X.errors),e=>Z(e.asset,X.errors),e=>$(e.successUrl,X.successUrlErrors),e=>$(e.cancelUrl,X.cancelUrlErrors),e=>((e,t)=>{if(!(e instanceof Date))return[t.invalidCreatedDate]})(e.created,X.errors),e=>((e,t,a,s)=>{if(void 0!==e)return e instanceof Date?e.getTime()-t.getTime()<a?[s.paymentLifetimeIsShort]:void 0:[s.invalidExpiredDate]})(e.expired,e.created,X.minimumPaymentLifetime,X.errors)]),n()(this,"invalidPaymentObjectError",X.errors.invalidPaymentObject)}}n()(X,"errors",{invalidPaymentObject:"Payment is undefined or not object",invalidType:"Payment type is invalid",invalidAmount:"Amount is invalid",amountIsNegative:"Amount is less than zero",invalidTargetAddress:"Target address is invalid",targetAddressIsNotNetworkAddress:"Target address isn't a network address",targetAddressHasInvalidLength:"Target address has an invalid address",invalidData:"Payment data is invalid",invalidPublicData:"Payment public data is invalid",invalidPrivateData:"Payment private data is invalid",publicDataShouldBeFlat:"Public data should be flat",privateDataShouldBeFlat:"Private data should be flat",invalidAsset:"Asset address is invalid",assetIsNotContractAddress:"Asset address isn't a contract address",assetHasInvalidLength:"Asset address has an invalid address",invalidSuccessUrl:"Success URL is invalid",successUrlHasInvalidProtocol:"Success URL has an invalid protocol",invalidCancelUrl:"Cancel URL is invalid",cancelUrlHasInvalidProtocol:"Cancel URL has an invalid protocol",invalidCreatedDate:"Created date is invalid",invalidExpiredDate:"Expired date is invalid",paymentLifetimeIsShort:"Payment lifetime is short"}),n()(X,"minimumPaymentLifetime",6e5),n()(X,"successUrlErrors",{invalidUrl:X.errors.invalidSuccessUrl,invalidProtocol:X.errors.successUrlHasInvalidProtocol}),n()(X,"cancelUrlErrors",{invalidUrl:X.errors.invalidCancelUrl,invalidProtocol:X.errors.cancelUrlHasInvalidProtocol});class ee extends B{constructor(...e){super(...e),n()(this,"validationMethods",[e=>e.type!==I.Donation?[ee.errors.invalidType]:void 0,e=>W(e.targetAddress,ee.errors),e=>{return t=e.desiredAmount,a=ee.errors,void 0===t?void 0:V(t,a);var t,a},e=>Z(e.desiredAsset,ee.errors),e=>$(e.successUrl,ee.successUrlErrors),e=>$(e.cancelUrl,ee.cancelUrlErrors)]),n()(this,"invalidPaymentObjectError",ee.errors.invalidDonationObject)}}n()(ee,"errors",{invalidDonationObject:"Donation is undefined or not object",invalidType:"Donation type is invalid",invalidAmount:"Desired amount is invalid",amountIsNegative:"Desired amount is less than zero",invalidTargetAddress:"Target address is invalid",targetAddressIsNotNetworkAddress:"Target address isn't a network address",targetAddressHasInvalidLength:"Target address has an invalid address",invalidAsset:"Desired asset address is invalid",assetIsNotContractAddress:"Desired asset address isn't a contract address",assetHasInvalidLength:"Desired asset address has an invalid address",invalidSuccessUrl:"Success URL is invalid",successUrlHasInvalidProtocol:"Success URL has an invalid protocol",invalidCancelUrl:"Cancel URL is invalid",cancelUrlHasInvalidProtocol:"Cancel URL has an invalid protocol"}),n()(ee,"successUrlErrors",{invalidUrl:ee.errors.invalidSuccessUrl,invalidProtocol:ee.errors.successUrlHasInvalidProtocol}),n()(ee,"cancelUrlErrors",{invalidUrl:ee.errors.invalidCancelUrl,invalidProtocol:ee.errors.cancelUrlHasInvalidProtocol});class te{constructor(){}}class ae{constructor(e){this.objectFieldTypes=e}get minObjectFieldsCount(){if(!this._minObjectFieldsCount){let e=0;for(const t of this.objectFieldTypes)("string"===typeof t[1]?"undefined"!==t[1]:t[1].every((e=>"undefined"!==e)))&&e++;this._minObjectFieldsCount=e}return this._minObjectFieldsCount}get maxObjectFieldsCount(){return this.objectFieldTypes.size}validate(e){if(!e)return!1;const t=Object.getOwnPropertyNames(e);if(t.length<this.minObjectFieldsCount||t.length>this.maxObjectFieldsCount)return!1;for(const[a,s]of this.objectFieldTypes){const t=e[a],n=null===t?"null":typeof t;if(Array.isArray(s)?!s.some((e=>n===e)):n!==s)return!1}return!0}}class se{constructor(e){this.objectSerializationValidator=new ae(e)}serialize(e){try{if(!this.objectSerializationValidator.validate(e))return null;const t=JSON.stringify(e);return j(t,"base64url")}catch{return null}}}class ne{constructor(e){this.objectSerializationValidator=new ae(e)}deserialize(e){try{let t;if(e){const a=b(e,"base64url");t=JSON.parse(a)}else t={};return this.objectSerializationValidator.validate(t)?t:null}catch{return null}}}const ie=(new Map).set("a","string").set("d","object").set("as",["string","undefined","null"]).set("su",["string","undefined","null"]).set("cu",["string","undefined","null"]).set("c","number").set("e",["number","undefined","null"]),ce=(new Map).set("amount","string").set("data","object").set("asset",["string","undefined","null"]).set("successUrl",["string","undefined","null"]).set("cancelUrl",["string","undefined","null"]).set("created","number").set("expired",["number","undefined","null"]);class re{serialize(e){try{const t=this.mapPaymentToSerializedPayment(e);return re.serializedPaymentBase64Serializer.serialize(t)}catch{return null}}mapPaymentToSerializedPayment(e){var t,a,s;return{a:e.amount.toString(),d:e.data,as:e.asset,su:null===(t=e.successUrl)||void 0===t?void 0:t.toString(),cu:null===(a=e.cancelUrl)||void 0===a?void 0:a.toString(),c:e.created.getTime(),e:null===(s=e.expired)||void 0===s?void 0:s.getTime()}}}n()(re,"serializedPaymentBase64Serializer",new se(ie));class oe{deserialize(e,t){try{const a=oe.serializedPaymentBase64Deserializer.deserialize(e);return a?this.mapSerializedPaymentToPayment(a,t):null}catch{return null}}mapSerializedPaymentToPayment(e,t){return{type:I.Payment,amount:new d.a(e.a),data:e.d,asset:e.as,successUrl:e.su?new Y(e.su):void 0,cancelUrl:e.cu?new Y(e.cu):void 0,created:new Date(e.c),expired:e.e?new Date(e.e):void 0,targetAddress:t.targetAddress}}}n()(oe,"serializedPaymentBase64Deserializer",new ne(ie));class le{deserialize(e,t){try{const a=le.serializedPaymentBase64Deserializer.deserialize(e);return a?this.mapSerializedPaymentToPayment(a,t):null}catch{return null}}mapSerializedPaymentToPayment(e,t){return{type:I.Payment,amount:new d.a(e.amount),data:e.data,asset:e.asset,successUrl:e.successUrl?new Y(e.successUrl):void 0,cancelUrl:e.cancelUrl?new Y(e.cancelUrl):void 0,created:new Date(e.created),expired:e.expired?new Date(e.expired):void 0,targetAddress:t.targetAddress}}}n()(le,"serializedPaymentBase64Deserializer",new ne(ce));const de=(new Map).set("da",["string","undefined","null"]).set("das",["string","undefined","null"]).set("su",["string","undefined","null"]).set("cu",["string","undefined","null"]),ue=(new Map).set("desiredAmount",["string","undefined","null"]).set("desiredAsset",["string","undefined","null"]).set("successUrl",["string","undefined","null"]).set("cancelUrl",["string","undefined","null"]);class me{serialize(e){try{const t=this.mapDonationToSerializedDonation(e),a=me.serializedDonationBase64Serializer.serialize(t);return"e30"===a?"":a}catch{return null}}mapDonationToSerializedDonation(e){var t,a,s;return{da:null===(t=e.desiredAmount)||void 0===t?void 0:t.toString(),das:e.desiredAsset,su:null===(a=e.successUrl)||void 0===a?void 0:a.toString(),cu:null===(s=e.cancelUrl)||void 0===s?void 0:s.toString()}}}n()(me,"serializedDonationBase64Serializer",new se(de));class be{deserialize(e,t){try{const a=be.serializedDonationBase64Deserializer.deserialize(e);return a?this.mapSerializedDonationToDonation(a,t):null}catch{return null}}mapSerializedDonationToDonation(e,t){return{type:I.Donation,desiredAmount:e.da?new d.a(e.da):void 0,desiredAsset:e.das,successUrl:e.su?new Y(e.su):void 0,cancelUrl:e.cu?new Y(e.cu):void 0,targetAddress:t.targetAddress}}}n()(be,"serializedDonationBase64Deserializer",new ne(de));class je{deserialize(e,t){try{const a=je.serializedDonationBase64Deserializer.deserialize(e);return a?this.mapSerializedDonationToDonation(a,t):null}catch{return null}}mapSerializedDonationToDonation(e,t){return{type:I.Donation,desiredAmount:e.desiredAmount?new d.a(e.desiredAmount):void 0,desiredAsset:e.desiredAsset,successUrl:e.successUrl?new Y(e.successUrl):void 0,cancelUrl:e.cancelUrl?new Y(e.cancelUrl):void 0,targetAddress:t.targetAddress}}}n()(je,"serializedDonationBase64Deserializer",new ne(ue));class ve extends te{static validate(e){return this.defaultValidator.validate(e)}static deserialize(e,t){return ve.defaultLegacyDeserializer.deserialize(e,t)}static publicDataExists(e){return this.publicDataExistsInternal(e)}static privateDataExists(e){return!!e.data.private}static publicDataExistsInternal(e){return!!(ve.isPayment(e)?e.data.public:e.public)}static isPayment(e){return!!e.amount}}n()(ve,"defaultLegacyDeserializer",new le),n()(ve,"defaultValidator",new X);class pe extends te{static validate(e){return this.defaultValidator.validate(e)}static deserialize(e,t){return pe.defaultLegacyDeserializer.deserialize(e,t)}}n()(pe,"defaultLegacyDeserializer",new je),n()(pe,"defaultValidator",new ee);var he;!function(e){e[e.Payment=1]="Payment",e[e.Donation=2]="Donation",e[e.All=3]="All"}(he||(he={}));const Oe={name:"",description:"",links:[],version:0,metadata:"",contractAddress:"",allowedTokens:{tez:!0,assets:[]},allowedOperationType:he.Payment,owner:"",paused:!1,deleted:!1,network:L.edo2net,signingKeys:{}};class ye extends te{static publicPayloadExists(e){return!!e.payload.public}static privatePayloadExists(e){return!!e.payload.private}static isPayloadDecoded(e){return!!e.value}static parseServiceOperationPayload(e){const t=O(e);let a=null;try{a=JSON.parse(t)}catch{}return{value:a,valueString:t,encodedValue:e}}}var ge,fe;!function(e){e[e.Incoming=0]="Incoming",e[e.Outgoing=1]="Outgoing"}(ge||(ge={})),function(e){e[e.Pending=0]="Pending",e[e.Success=1]="Success",e[e.Cancelled=2]="Cancelled"}(fe||(fe={}))}).call(this,a(37).Buffer)},15:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u}));const s={id:"en-US",resources:{common:{comingSoon:"Coming soon",copy:"Copy",copyLink:"Copy Link",open:"Open",new:"New",cancel:"Cancel",save:"Save",yes:"Yes",no:"No"},views:{header:{accountActions:{copyAddress:{title:"Copy address"},viewOn:"View on",connectAnotherAccount:{title:"Connect another account"},disconnect:{title:"Disconnect"}}},overview:{title:"Overview",balances:{title:"Balances"},incoming:{title:"Incoming"},outgoing:{title:"Outgoing"},operationCount:{title:"Operation count"},volume:{title:"Volume"}},createService:{title:"Create Service"},connect:{actions:{connect:{title:"Connect",connectTo:"Connect to",description:`In order to use the ${a(19).a.app.title} service you have to connect a Tezos account`}}},about:{title:"About",detailedTitle:"Decentralized Payment Solution built on Tezos blockchain",build:"build",poweredBy:"Powered by",tzKt:"TzKT",api:"API"},operations:{title:"Operations",operationList:{paymentData:"Payment Data:",donationData:"Donation Data:",income:"Income",expense:"Expense",cancelled:"Cancelled",pending:"Pending",noOperationsPerformedYet:"No operations performed yet"}},services:{title:"Services",status:{active:"Active",paused:"Paused",deleted:"Deleted"},createNewService:"Create New Service",acceptPayments:"Accept Payments",acceptPaymentsDescription:"Generate a payment link using our constructor to accept payments on your service",youDoNotHaveAnyServicesYet:"You don't have any services yet",createYourFirstService:"Create your first service to accept payments or connect another Tezos account",operations:{paymentsEnabled:"Payments Enabled",donationsEnabled:"Donations Enabled"},allowedCurrencies:"Allowed Currencies",service:"Service",links:"Links",dangerZone:{title:"Danger Zone",pauseService:"Pause Service",pauseServiceConfirmation:"Are you sure you want to pause the service",pauseServiceDescription:"Pause accepting payments and donations",unPauseService:"Unpause Service",unPauseServiceConfirmation:"Are you sure you want to unpause the service",unPauseServiceDescription:"Accepting payments and donations are paused",deleteService:"Delete Service",deleteServiceConfirmation:"Are you sure you want to delete the service",deleteServiceDescription:"Delete this service. After deleting this service can\u2019t accept payments and donations. You can restore the deleted service",unDeleteService:"Undelete Service",unDeleteServiceConfirmation:"Are you sure you want to undelete the service",unDeleteServiceDescription:"Service is marked as deleted"},devZone:{title:"API Keys",addKey:"Add Key",saveKeys:"Save Keys",name:"Name",algorithm:"Algorithm",publicKey:"Public Key",secretKey:"Secret Key",saveSecretKeyWarning:"Write down the secret key, we will never show it again",saveSecretKeyConfirm:"Have you written down the secret key?",noApiKeysAddedYet:"No API keys added yet",deleteKeyConfirmation:"Are you sure you want to delete the API key"},editing:{editService:"Edit Service",updateService:"Update Service",createService:"Create Service",addCurrency:"Add Currency",addLink:"Add Link",serviceName:"Service Name",description:"Description",accept:"Accept",acceptPayments:"Accept Payments",acceptDonations:"Accept Donations"}},settings:{title:"Settings"},acceptPayments:{title:"Accept Payments",type:"Type",amount:"Amount",paymentPublicData:"Payment Public Data",orderId:"Order ID",orderIdHelpText:"Order ID/invoice number/any unique identifier in your system",donationData:"Donation Data",shortDescription:"Short description on the page",shortDescriptionHelpText:"This message will be shown to your donators when they will donate",directLinkPaymentHelpText:"Copy the following link and paste it into your website or send to your customer directly using messengers, email, social networks, etc",directLinkDonationHelpText:"Copy the following link and paste it into your profile on social networks or website so your subscribers can donate to you by opening this link",errors:{fillRequiredData:"Fill required data to generate corresponding content"}}}}},n=()=>s.resources;var i=a(1);const c=e=>{Object(i.useEffect)((()=>{document.title=e}),[e])};var r=a(147);const o=r.b,l=r.c;var d=a(61);const u=()=>new URLSearchParams(Object(d.h)().search)},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d}));var s=a(346),n=a(1),i=a.n(n),c=a(82),r=a(15),o=(a(781),a(3));const l=e=>{const t=Object(r.c)().common,a=Object(r.b)(c.c),i=a&&a.explorers[a.default.explorer],l=Object(n.useCallback)((()=>{navigator.clipboard.writeText(e.hash)}),[e.hash]);return Object(o.jsxs)("div",{className:"explorer-link__container",children:[Object(o.jsx)("a",{href:`${null===i||void 0===i?void 0:i.url}${e.hash}`,target:"_blank",rel:"noreferrer",className:e.className,children:e.children}),e.showCopyButton&&Object(o.jsx)(s.a,{className:"explorer-link__copy-icon",title:t.copy,onClick:l})]})},d=i.a.memo(l)},19:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const s="c43e6e8",n={app:{publicUrl:"/",name:"Tezos Payments",title:"Tezos Payments",version:{name:"Dev Version",link:"https://github.com/fastwaterbear/tezospayments/tree/master"},buildInfo:{commitShortSha:s,link:"https://github.com/fastwaterbear/tezospayments/tree/c43e6e8"}},routers:{overview:"/",operations:"/operations",services:"/services",acceptPayments:"/accept",connect:"/connect",about:"/about"},links:{tzktIo:"https://tzkt.io",tezosPayments:{webSite:"https://tezospayments.com",paymentsApp:"https://payment.tezospayments.com",gitHub:"https://github.com/fastwaterbear/tezospayments",telegram:"https://t.me/fastwaterbear",twitter:"https://twitter.com/fastwaterbear",reddit:"https://www.reddit.com/user/fastwaterbear"}},tezos:{defaultNetwork:"edo2net",networks:{granadanet:{title:"Granada Testnet",color:"#667eea",default:{rpc:"smartpy",indexer:"tzkt",explorer:"tzkt"},rpcUrls:{smartpy:"https://granadanet.smartpy.io/"},indexerUrls:{tzkt:"https://api.granadanet.tzkt.io/"},explorers:{tzkt:{url:"https://granadanet.tzkt.io/",title:"TzKT"}},servicesFactoryContractAddress:"KT1TsixZzkALSuJhzKkyCDgyJxQCbHsGoqda"},edo2net:{title:"Edo2 Testnet",color:"#fbbf24",default:{rpc:"smartpy",indexer:"tzkt",explorer:"tzkt"},rpcUrls:{smartpy:"https://edonet.smartpy.io/"},indexerUrls:{tzkt:"https://api.edo2net.tzkt.io/"},explorers:{tzkt:{url:"https://edo2net.tzkt.io/",title:"TzKT"}},servicesFactoryContractAddress:"KT1PXyQ3wDpwm6J3r6iyLCWu5QKH5tef7ejU"}}}}},374:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return j}));var s=a(346),n=a(97),i=a(1),c=a.n(i),r=a(11),o=a(19),l=a(82),d=a(41),u=a(15),m=(a(823),a(3));const b=({paymentOrDonation:e})=>{const t=Object(u.c)(),a=t.common,c=t.views.acceptPayments,b=Object(u.b)(l.b),j=v(e,(null===b||void 0===b?void 0:b.network)||r.p[o.a.tezos.defaultNetwork]),p=e.type===r.e.Payment?c.directLinkPaymentHelpText:c.directLinkDonationHelpText,h=Object(i.useCallback)((()=>{navigator.clipboard.writeText(j)}),[j]);return Object(m.jsxs)("div",{className:"generator__direct-link",children:[Object(m.jsx)("span",{className:"generator__direct-link-help-text",children:p}),Object(m.jsx)(d.b,{className:"generator__direct-link-link",href:j,children:j}),Object(m.jsx)("div",{className:"generator__direct-link-buttons",children:Object(m.jsx)(n.a,{onClick:h,icon:Object(m.jsx)(s.a,{}),children:a.copyLink})})]})},j=c.a.memo(b),v=(t,a)=>{const s=t.type===r.e.Payment,n=s?{created:+new Date,amount:t.amount.toString(10),data:t.data}:null,i=o.a.links.tezosPayments.paymentsApp,c=t.targetAddress,l=s?"payment":"donation",d=a.name===o.a.tezos.defaultNetwork?"":`?network=${a.name}`,u=n?e.from(JSON.stringify(n),"utf8").toString("base64"):null;return`${i}/${c}/${l}${d||""}${u?`#${u}`:""}`}}).call(this,a(37).Buffer)},382:function(e,t){},41:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return b.b})),a.d(t,"b",(function(){return j}));var s=a(61),n=a(19),i=a(15),c=a(3);const r=n.a.routers.connect,o=({children:e,isConnected:t,connectPath:a=r,...n})=>Object(c.jsx)(s.b,{...n,children:n=>t?e:Object(c.jsx)(s.a,{to:{pathname:a,state:{from:n.location}}})}),l=e=>{const t=Object(i.b)((e=>e.accountsState.currentAccount));return Object(c.jsx)(o,{...e,isConnected:!!t})};var d=a(169),u=a(11);a(736);const m=e=>Object(c.jsx)("ul",{className:"token-list",children:e.children});m.Item=e=>{const t=Object(u.l)("token-list-item__value",{"token-list-item__value_positive":e.highlightSign&&e.value&&e.value>0},{"token-list-item__value_negative":e.highlightSign&&e.value&&e.value<0}),a=e.value?e.value>0&&e.highlightSign?"+":e.value<0?"\u2212":"":"",s=e.value&&Math.abs(e.value),n=6<e.decimals,i=void 0!==s&&null!==s?Object(c.jsx)("span",{className:t,children:`${a}${s.toLocaleString(void 0,{minimumFractionDigits:6})}${n?"...":""}`}):null;return Object(c.jsxs)("li",{className:Object(u.l)("token-list-item",e.className),children:[Object(c.jsx)("img",{className:"token-list-item__icon",src:e.iconSrc,alt:e.name}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"token-list-item__name-container",children:[Object(c.jsx)("span",{className:"token-list-item__ticker",children:e.ticker}),Object(c.jsx)("span",{className:"token-list-item__name",children:e.name})]}),n&&void 0!==s&&null!==s?Object(c.jsx)(d.a,{title:s.toLocaleString(void 0,{minimumFractionDigits:e.decimals}),children:i}):i]})]})};var b=a(177);const j=e=>Object(c.jsx)("a",{...e,target:"_blank",rel:"noopener noreferrer",children:e.children})},451:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return o}));var s=a(168),n=a(33),i=a.n(n),c=a(11),r=a(19);class o{constructor(e){this.tezosWallet=void 0,this.tezosToolKitByNetwork=new Map,this.tezosWallet=e}async getServices(e){try{const t=r.a.tezos.networks[e.network.name],a=t.indexerUrls[t.default.indexer],s=await fetch(`${a}v1/contracts/${t.servicesFactoryContractAddress}/bigmaps/services/keys/${e.address}`),n=(await s.json()).value,i=n.map((e=>fetch(`${a}v1/contracts/${e}/storage`).then((e=>e.json())))),c=await Promise.all(i);return c.map(((t,a)=>this.mapServiceDtoToService(t,n[a]||"",e.network))).filter((e=>e))}catch{return[]}}async updateService(e){try{const t=this.getTezosToolKit(e.network),a=await t.wallet.at(e.contractAddress);if(a.methods.update_service_parameters){const t=this.encodeMetadata(e);return await a.methods.update_service_parameters(t,e.allowedTokens.tez,e.allowedTokens.assets,e.allowedOperationType).send()}}catch(t){console.error(t)}return null}async setPaused(e,t){try{const a=this.getTezosToolKit(e.network),s=await a.wallet.at(e.contractAddress);if(s.methods.set_pause){return await s.methods.set_pause(t).send()}}catch(a){console.error(a)}return null}async setDeleted(e,t){try{const a=this.getTezosToolKit(e.network),s=await a.wallet.at(e.contractAddress);if(s.methods.set_deleted){return await s.methods.set_deleted(t).send()}}catch(a){console.error(a)}return null}async createService(e){try{const t=r.a.tezos.networks[e.network.name],a=this.getTezosToolKit(e.network),s=await a.wallet.at(t.servicesFactoryContractAddress);if(s.methods.create_service){const t=this.encodeMetadata(e);return await s.methods.create_service(t,e.allowedTokens.tez,e.allowedTokens.assets,e.allowedOperationType).send()}}catch(t){console.error(t)}return null}async addApiKey(e,t){await Object(c.v)(1e3)}async deleteApiKey(e,t){await Object(c.v)(1e3)}async getOperations(e,t){const a=r.a.tezos.networks[e.name],s=a.indexerUrls[a.default.indexer],n=await fetch(`${s}v1/accounts/${t}/operations?type=transaction&parameters.as=*%22entrypoint%22:%22send_payment%22*`);return(await n.json()).map((e=>this.mapOperationToServiceOperation(e)))}getTezosToolKit(e){let t=this.tezosToolKitByNetwork.get(e);if(!t){const a=r.a.tezos.networks[e.name];t=new s.a(a.rpcUrls[a.default.rpc]),t.setWalletProvider(this.tezosWallet),this.tezosToolKitByNetwork.set(e,t)}return t}encodeMetadata(t){const a={name:t.name||void 0,links:t.links.length?t.links:void 0,description:t.description||void 0,iconUrl:t.iconUrl||void 0};return e.from(JSON.stringify(a),"utf8").toString("hex")}mapOperationToServiceOperation(e){return{hash:e.hash,type:+e.parameter.value.operation_type||0,direction:c.h.Incoming,status:"applied"===e.status?c.i.Success:c.i.Cancelled,amount:new i.a(e.amount.toString()).div(10**c.t.decimals),payload:{public:c.g.parseServiceOperationPayload(e.parameter.value.payload.public)},asset:void 0,timestamp:e.timestamp,date:new Date(e.timestamp),sender:e.sender.address,target:e.target.address}}mapServiceDtoToService(e,t,a){const s=c.m.bytesToObject(e.metadata);return!s||"string"!==typeof s.name||!c.o.isArray(s.links)&&void 0!==s.links||"string"!==typeof s.description&&void 0!==s.description||"string"!==typeof s.iconUrl&&void 0!==s.iconUrl?null:{name:s.name,links:s.links||c.r.emptyArray,description:s.description,iconUrl:s.iconUrl,version:+e.version,metadata:e.metadata,contractAddress:t,network:a,allowedTokens:{tez:e.allowed_tokens.tez,assets:e.allowed_tokens.assets},allowedOperationType:+e.allowed_operation_type,owner:e.owner,paused:e.paused,deleted:e.deleted,signingKeys:{"SHA256:4T5E9yJjajhHazEUPHAYMa97bg7m6SxpInoxtX+XLPg":{publicKey:"SHA256:4T5E9yJjajhHazEUPHAYMa97bg7m6SxpInoxtX+XLPg",name:"Home PC"},"SHA256:Q0TPyOEbRpCZyoYRFyeGmzb4yg/ujidrRRoRnyJiuqo":{publicKey:"SHA256:Q0TPyOEbRpCZyoYRFyeGmzb4yg/ujidrRRoRnyJiuqo",name:"Work"}}}}}}).call(this,a(37).Buffer)},569:function(e,t){},571:function(e,t){},581:function(e,t){},583:function(e,t){},610:function(e,t){},612:function(e,t){},613:function(e,t){},618:function(e,t){},620:function(e,t){},639:function(e,t){},651:function(e,t){},654:function(e,t){},736:function(e,t,a){},781:function(e,t,a){},782:function(e,t,a){},783:function(e,t,a){},791:function(e,t,a){},792:function(e,t,a){},793:function(e,t,a){},794:function(e,t,a){},795:function(e,t,a){},796:function(e,t,a){},797:function(e,t,a){},798:function(e,t,a){},799:function(e,t,a){},800:function(e,t,a){},801:function(e,t,a){},803:function(e,t,a){},808:function(e,t,a){},809:function(e,t,a){},810:function(e,t,a){},811:function(e,t,a){},812:function(e,t,a){},813:function(e,t,a){},814:function(e,t,a){},815:function(e,t,a){},816:function(e,t,a){},817:function(e,t,a){},818:function(e,t,a){},819:function(e,t,a){},82:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return o}));var s=a(103),n=a(19);const i=e=>e.accountsState,c=Object(s.a)(i,(e=>e.currentAccount&&e.connectedAccounts.find((t=>{var a;return t.address===(null===(a=e.currentAccount)||void 0===a?void 0:a.address)&&t.network.id===e.currentAccount.network.id}))||null)),r=Object(s.a)(i,(e=>e.connectedAccounts.reduce(((e,t)=>e.set(t.network,[...e.get(t.network)||[],t])),new Map))),o=Object(s.a)(c,(e=>e&&n.a.tezos.networks[e.network.name]))},820:function(e,t,a){},821:function(e,t,a){},822:function(e,t,a){},823:function(e,t,a){},824:function(e,t,a){},825:function(e,t,a){},826:function(e,t,a){},827:function(e,t,a){},828:function(e,t,a){},829:function(e,t,a){},830:function(e,t,a){},832:function(e,t,a){},833:function(e,t,a){},834:function(e,t,a){"use strict";a.r(t);var s=a(63),n=a(33),i=a.n(n),c=a(78),r=a(1),o=a.n(r),l=a(58),d=a.n(l),u=a(147),m=a(61),b=a(42),j=a(519),v=a(107),p=a(19),h=a(168),O=a(11);const y=e=>{switch(e){case b.p.GRANADANET:return O.p.granadanet;case b.p.EDONET:return O.p.edo2net;default:throw new Error("Not Supported network type")}},g=e=>{switch(e){case O.p.granadanet:return b.p.GRANADANET;case O.p.edo2net:return b.p.EDONET;default:throw new Error("Not Supported network type")}};class f{constructor(e){this.dAppClient=void 0,this.tezosToolKitByNetwork=new Map,this.dAppClient=e}async connect(e){return this.dAppClient.requestPermissions({network:{type:g(e)}}).then((e=>e.address)).catch((e=>(console.error(e),this.dAppClient.clearActiveAccount(),null)))}disconnect(){return this.dAppClient.clearActiveAccount()}async getActiveAccount(){const e=await this.dAppClient.getActiveAccount();return e?{address:e.address,network:y(e.network.type)}:void 0}async getTezosBalance(e){const t=this.getTezosToolKit(e.network);return+await t.tz.getBalance(e.address)/1e6}async getTokenBalance(e,t){let a=null;switch(t.type){case"fa1.2":a=await this.getTokenFA12Balance(e,t);break;case"fa2":a=await this.getTokenFA2Balance(e,t);break;default:throw new Error("Not Supported")}return a.toNumber()}getTezosToolKit(e){let t=this.tezosToolKitByNetwork.get(e);if(!t){const a=p.a.tezos.networks[e.name];t=new h.a(a.rpcUrls[a.default.rpc]),t.setProvider({signer:new x}),this.tezosToolKitByNetwork.set(e,t)}return t}async getTokenFA12Balance(e,t){var a,s;const n=this.getTezosToolKit(e.network),i=await n.contract.at(t.contractAddress);return await(null===(a=(s=i.views).getBalance)||void 0===a?void 0:a.call(s,e.address).read())||0}async getTokenFA2Balance(e,t){var a,s;const n=this.getTezosToolKit(e.network),i=await n.contract.at(t.contractAddress);return(await(null===(a=i.views)||void 0===a||null===(s=a.balance_of)||void 0===s?void 0:s.call(a,[{owner:e.address,token_id:t.fa2TokenId}]).read()))[0].balance||0}}class x{async publicKeyHash(){return"tz1UqarjGfmwrd1BBHsXDtvdHx8VQgqKXrcK"}async publicKey(){return"edpkuAjgFnspKtJDxECF4cHeNjjWk7rxKTsWPSCFkX67sVsvxXyzYK"}async secretKey(){throw new Error("Secret key cannot be exposed")}async sign(){throw new Error("Cannot sign")}}var w=a(451);var k=a(848),A=a(82),C=a(103);const _=e=>O.u,S=e=>e.servicesState,N=Object(C.a)(S,_,((e,t)=>{const a=new Set;return e.services.forEach((e=>e.allowedTokens.assets.forEach((e=>{const s=t.get(e);s&&a.add(s)})))),[...a]})),T=Object(C.a)(S,(e=>e.services.some((e=>e.allowedTokens.tez)))),z=Object(C.a)(S,(e=>[...e.services].sort(((e,t)=>e.name.localeCompare(t.name))))),P={tezos:0,tokens:O.r.emptyObject,initialized:!1},D="balances",U=Object(s.b)("balances/loadBalances",(async(e,{extra:t,getState:a})=>{const s=await t.services.accountsService.getTezosBalance(e),n=N(a()),i={},c=n.map((a=>t.services.accountsService.getTokenBalance(e,a)));return(await Promise.all(c)).forEach(((e,t)=>{var a;const s=null===(a=n[t])||void 0===a?void 0:a.contractAddress;s&&(i[s]=e)})),{tezos:s,tokens:i}})),I=Object(s.c)({name:D,initialState:P,reducers:{clearBalances:e=>{e.tezos=0,e.initialized=!1}},extraReducers:e=>{e.addCase(U.fulfilled,((e,t)=>{const{tezos:a,tokens:s}=t.payload;e.tezos=a,e.tokens=s,e.initialized=!0}))}}),{clearBalances:B}=I.actions,E={operations:O.r.emptyArray,initialized:!1},L="operations",K=Object(s.b)("operations/loadOperations",(async({servicesAddresses:e,network:t},{extra:a})=>{const s=e.map((e=>a.services.servicesService.getOperations(t,e)));return(await Promise.all(s)).flat()})),H=Object(s.c)({name:L,initialState:E,reducers:{clearOperations:e=>{e.operations=O.r.emptyArray,e.initialized=!1}},extraReducers:e=>{e.addCase(K.fulfilled,((e,t)=>{e.operations=t.payload,e.initialized=!0}))}}),{clearOperations:F}=H.actions,R={services:O.r.emptyArray,initialized:!1},M="services",Q=Object(s.b)("services/loadServices",(async(e,{extra:t,dispatch:a})=>{const s=await t.services.servicesService.getServices(e);return s.length&&(a(U(e)),a(K({servicesAddresses:s.map((e=>e.contractAddress)),network:e.network}))),s})),J=Object(s.b)("services/updateService",(async(e,{extra:t,dispatch:a,getState:s,rejectWithValue:n})=>{const i=await t.services.servicesService.updateService(e);if(!i)return n(null);a(X({operation:i,callback:()=>q(a,s)}))})),G=Object(s.b)("services/createService",(async(e,{extra:t,dispatch:a,getState:s,rejectWithValue:n})=>{const i=await t.services.servicesService.createService(e);if(!i)return n(null);a(X({operation:i,callback:()=>q(a,s)}))})),Y=Object(s.b)("services/setPaused",(async({service:e,paused:t},{extra:a,dispatch:s,getState:n,rejectWithValue:i})=>{const c=await a.services.servicesService.setPaused(e,t);if(!c)return i(null);s(X({operation:c,callback:()=>q(s,n)}))})),W=Object(s.b)("services/setDeleted",(async({service:e,deleted:t},{extra:a,dispatch:s,getState:n,rejectWithValue:i})=>{const c=await a.services.servicesService.setDeleted(e,t);if(!c)return i(null);s(X({operation:c,callback:()=>q(s,n)}))})),V=Object(s.b)("services/addApiKey",(async({service:e,signingKey:t},{extra:a,dispatch:s,getState:n})=>{await a.services.servicesService.addApiKey(e,t),q(s,n)})),Z=Object(s.b)("services/deleteApiKey",(async({service:e,publicKey:t},{extra:a,dispatch:s,getState:n})=>{await a.services.servicesService.deleteApiKey(e,t),q(s,n)})),$=Object(s.b)("services/clearServices",(async(e,{dispatch:t})=>{t(B())})),q=(e,t)=>{const a=Object(A.b)(t());a&&e(Q(a))},X=Object(s.b)("services/setOperation",(async({operation:e,callback:t})=>{const a=new Promise(((t,a)=>{e.confirmationObservable(1).subscribe(void 0,a,t)}));await a,t()})),ee=Object(s.c)({name:M,initialState:R,reducers:{},extraReducers:e=>{e.addCase(Q.fulfilled,((e,t)=>{e.services=t.payload,e.initialized=!0})),e.addCase($.fulfilled,(e=>{e.services=O.r.emptyArray,e.initialized=!1}));for(const t of[G,J,Y,W,V,Z])e.addCase(t.pending,(e=>{e.initialized=!1})),e.addCase(t.rejected,(e=>{e.initialized=!0}))}}),te={currentAccount:null,connectedAccounts:O.r.emptyArray,initialized:!1},ae="accounts",se=Object(s.b)("accounts/loadActiveAccount",(async(e,{extra:t,dispatch:a})=>{const s=await t.services.accountsService.getActiveAccount();return s&&a(Q(s)),s||null})),ne=Object(s.b)("accounts/connect",(async(e,{extra:t,dispatch:a})=>{const s=await t.services.accountsService.connect(e),n=s?{address:s,network:e}:null;return n&&a(Q(n)),n})),ie=Object(s.b)("accounts/disconnect",(async(e,{extra:t,dispatch:a})=>{const s=await t.services.accountsService.disconnect();return a($()),s})),ce=Object(s.c)({name:ae,initialState:te,reducers:{},extraReducers:e=>{e.addCase(se.fulfilled,((e,t)=>{const a=t.payload;a&&(e.currentAccount={address:a.address,network:a.network},e.connectedAccounts.some((e=>e.address===a.address))||e.connectedAccounts.push(a)),e.initialized=!0})),e.addCase(ne.fulfilled,((e,t)=>{const a=t.payload;a&&(e.currentAccount={address:a.address,network:a.network},e.connectedAccounts.some((e=>e.address===a.address))||e.connectedAccounts.push(a))})),e.addCase(ie.fulfilled,(e=>{e.connectedAccounts=e.connectedAccounts.filter((t=>{var a,s;return t.address!==(null===(a=e.currentAccount)||void 0===a?void 0:a.address)||t.network.id!==(null===(s=e.currentAccount)||void 0===s?void 0:s.network.id)}));const t=e.connectedAccounts[0];e.currentAccount=t?{address:t.address,network:t.network}:null}))}});var re=a(41),oe=a(15),le=a(844),de=a(97),ue=(a(782),a(3));const me=()=>{const e=Object(oe.c)().views.services,t=Object(m.g)(),a=Object(r.useCallback)((()=>{t.push(`${p.a.routers.services}/create`)}),[t]);return Object(ue.jsx)("div",{className:"no-services-created",children:Object(ue.jsxs)("div",{children:[Object(ue.jsx)("p",{children:e.youDoNotHaveAnyServicesYet}),Object(ue.jsx)("p",{children:e.createYourFirstService}),Object(ue.jsx)(de.a,{type:"primary",onClick:a,children:e.editing.createService})]})})},be=o.a.memo(me),je=e=>{const t=Object(O.l)(e.className,"view__title");return o.a.createElement(e.as,{className:t},e.children)};je.defaultProps={as:"h1"};a(783);const ve=e=>{Object(oe.e)(e.title?`${e.title} | ${p.a.app.title}`:p.a.app.title);const t=Object(O.l)("view",e.className);return o.a.createElement(e.as,{className:t},e.children)};ve.defaultProps={as:"main"},ve.Title=je;var pe=a(839);const he=()=>{const e={data:[{month:"May",operationCount:900},{month:"June",operationCount:1600},{month:"July",operationCount:600},{month:"August",operationCount:2200},{month:"September",operationCount:950},{month:"October",operationCount:1100}],xField:"month",yField:"operationCount",height:400,meta:{operationCount:{alias:"Operation count"}}};return Object(oe.b)(S).initialized?Object(ue.jsx)(pe.a,{...e}):Object(ue.jsx)(k.a,{active:!0,paragraph:{rows:12}})},Oe=o.a.memo(he);var ye=a(841);const ge=()=>{const e={data:[{quarter:"Q1 2020",sum:24756},{quarter:"Q2 2020",sum:22178},{quarter:"Q3 2020",sum:13613},{quarter:"Q4 2020",sum:29436},{quarter:"Q1 2021",sum:25679},{quarter:"Q2 2021",sum:26483},{quarter:"Q3 2021",sum:41835},{quarter:"Q4 2021",sum:32412}],xField:"quarter",yField:"sum",height:400,smooth:!0,meta:{sum:{alias:"Sum"}}};return Object(oe.b)(S).initialized?Object(ue.jsx)(ye.a,{...e}):Object(ue.jsx)(k.a,{active:!0,paragraph:{rows:12}})},fe=o.a.memo(ge),xe=e=>e.balancesState,we=()=>{const e=Object(oe.b)(T),t=Object(oe.b)(N),a=Object(oe.b)(S),s=Object(oe.b)(xe);if(!a.initialized||!s.initialized)return Object(ue.jsx)(k.a,{active:!0});const n=[];return e&&n.push(Object(ue.jsx)(re.d.Item,{ticker:O.t.symbol,name:O.t.name,decimals:O.t.decimals,value:s.tezos,iconSrc:O.t.thumbnailUri},O.t.symbol)),t.forEach((e=>{var t,a,i,c;n.push(Object(ue.jsx)(re.d.Item,{ticker:(null===(a=e.metadata)||void 0===a?void 0:a.symbol)||"unknown",name:(null===(i=e.metadata)||void 0===i?void 0:i.name)||"unknown",decimals:e.metadata?e.metadata.decimals:2,value:s.tokens[e.contractAddress]||0,iconSrc:null===(c=e.metadata)||void 0===c?void 0:c.thumbnailUri},null===(t=e.metadata)||void 0===t?void 0:t.symbol))})),Object(ue.jsx)(re.d,{children:n})},ke=o.a.memo(we),Ae=()=>{const e=Object(oe.b)(T),t=Object(oe.b)(S),a=Object(oe.b)(N);if(!t.initialized)return Object(ue.jsx)(k.a,{active:!0});const s=[];return e&&s.push(Object(ue.jsx)(re.d.Item,{ticker:O.t.symbol,name:O.t.name,decimals:O.t.decimals,value:52.4,iconSrc:O.t.thumbnailUri,highlightSign:!0},O.t.symbol)),a.forEach((e=>{var t,a,n,i;s.push(Object(ue.jsx)(re.d.Item,{ticker:(null===(a=e.metadata)||void 0===a?void 0:a.symbol)||"unknown",name:(null===(n=e.metadata)||void 0===n?void 0:n.name)||"unknown",decimals:e.metadata?e.metadata.decimals:2,value:462518,iconSrc:null===(i=e.metadata)||void 0===i?void 0:i.thumbnailUri,highlightSign:!0},null===(t=e.metadata)||void 0===t?void 0:t.symbol))})),Object(ue.jsx)(re.d,{children:s})},Ce=o.a.memo(Ae),_e=()=>{const e=Object(oe.b)(T),t=Object(oe.b)(S),a=Object(oe.b)(N);if(!t.initialized)return Object(ue.jsx)(k.a,{active:!0});const s=[];return e&&s.push(Object(ue.jsx)(re.d.Item,{ticker:O.t.symbol,name:O.t.name,decimals:O.t.decimals,value:-52.4,iconSrc:O.t.thumbnailUri,highlightSign:!0},O.t.symbol)),a.forEach((e=>{var t,a,n,i;s.push(Object(ue.jsx)(re.d.Item,{ticker:(null===(a=e.metadata)||void 0===a?void 0:a.symbol)||"unknown",name:(null===(n=e.metadata)||void 0===n?void 0:n.name)||"unknown",decimals:e.metadata?e.metadata.decimals:2,value:-462518.0000006,iconSrc:null===(i=e.metadata)||void 0===i?void 0:i.thumbnailUri,highlightSign:!0},null===(t=e.metadata)||void 0===t?void 0:t.symbol))})),Object(ue.jsx)(re.d,{children:s})},Se=o.a.memo(_e);a(791);const Ne=()=>{const e=Object(oe.c)(),t=e.common,a=e.views.overview,s=Object(oe.b)(S);return Object(ue.jsxs)(ve,{title:a.title,className:"overview",children:[Object(ue.jsx)(ve.Title,{children:a.title}),s.initialized&&!s.services.length?Object(ue.jsx)(be,{}):Object(ue.jsxs)("div",{className:"cards-container",children:[Object(ue.jsx)(le.a,{className:"cards-container__small-card",size:"small",title:a.balances.title,children:Object(ue.jsx)(ke,{})}),Object(ue.jsx)(le.a,{className:"cards-container__small-card",size:"small",title:`${a.incoming.title} (${t.comingSoon})`,extra:Object(ue.jsx)("a",{href:"#void",children:"All Month"}),children:Object(ue.jsx)(Ce,{})}),Object(ue.jsx)(le.a,{className:"cards-container__small-card",size:"small",title:`${a.outgoing.title} (${t.comingSoon})`,extra:Object(ue.jsx)("a",{href:"#void",children:"All Month"}),children:Object(ue.jsx)(Se,{})}),Object(ue.jsx)(le.a,{className:"cards-container__large-card",title:`${a.operationCount.title} (${t.comingSoon})`,extra:Object(ue.jsx)("a",{href:"#void",children:"6 Months"}),children:Object(ue.jsx)(Oe,{})}),Object(ue.jsx)(le.a,{className:"cards-container__large-card",title:`${a.volume.title} (${t.comingSoon})`,extra:Object(ue.jsx)("a",{href:"#void",children:"Last 2 Years"}),children:Object(ue.jsx)(fe,{})})]})]})},Te=o.a.memo(Ne),ze=Object(C.a)((e=>e.operationsState),(e=>[...e.operations].sort(((e,t)=>+t.date-+e.date))));var Pe=a(72),De=a(177),Ue=a(858),Ie=a(859),Be=a(860),Ee=a(338);a(792);const Le=e=>{const t=Object(oe.c)().views.operations.operationList,a=e.direction===O.h.Incoming,s=Object(O.l)(e.className,"operation-icon",{"operation-icon_income":a},{"operation-icon_expense":!a},{"operation-icon_cancelled":e.status===O.i.Cancelled});return Object(ue.jsxs)("div",{className:s,children:[a?Object(ue.jsx)(Ue.a,{title:t.income}):Object(ue.jsx)(Ie.a,{title:t.expense}),e.status===O.i.Pending&&Object(ue.jsx)(Be.a,{className:"operation-icon__status operation-icon__status_pending",title:t.pending}),e.status===O.i.Cancelled&&Object(ue.jsx)(Ee.a,{className:"operation-icon__status operation-icon__status_cancelled",title:t.cancelled})]})},Ke=o.a.memo(Le);a(793);const He=e=>Object(ue.jsx)("table",{className:"operation-list",children:e.children}),Fe=e=>`${e.substr(0,9)}...${e.substr(e.length-6,6)}`;He.Item=e=>{const t=Object(oe.c)().views.operations.operationList,a=e.direction===O.h.Incoming,s=a?e.accountAddress:e.serviceAddress,n=a?e.serviceAddress:e.accountAddress,i=Fe(e.hash),c=`${e.type===O.j.Donation?t.donationData:t.paymentData} ${e.data}`,r=a?"+":"\u2212",o=Object(O.l)("operation-list-item__amount",{"operation-list-item__amount_income":a},{"operation-list-item__amount_expense":!a},{"operation-list-item__amount_cancelled":e.status===O.i.Cancelled}),l=`${p.a.routers.services}/${e.serviceAddress}`;return Object(ue.jsxs)("tbody",{className:"operation-list-group",children:[Object(ue.jsxs)("tr",{className:"operation-list-row operation-list-row_general",children:[Object(ue.jsx)("td",{className:"operation-list-item__icon",children:Object(ue.jsx)(Ke,{direction:e.direction,status:e.status})}),Object(ue.jsxs)("td",{className:"operation-list-item__main-info",children:[Object(ue.jsx)("span",{className:"operation-list-item__date",children:e.date.toLocaleString()}),Object(ue.jsx)(De.a,{hash:e.hash,className:"operation-list-item__operation-hash",children:i})]}),Object(ue.jsxs)("td",{className:"operation-list-item__transfer-info",children:[s===e.serviceAddress?Object(ue.jsx)(Pe.a,{to:l,children:e.serviceName}):Object(ue.jsx)(De.a,{hash:s,children:Fe(s)}),"\xa0\u2192\xa0",n===e.serviceAddress?Object(ue.jsx)(Pe.a,{to:l,children:e.serviceName}):Object(ue.jsx)(De.a,{hash:n,children:Fe(n)})]}),Object(ue.jsxs)("td",{className:o,children:[r,e.value.toFormat()," ",e.ticker]})]}),Object(ue.jsxs)("tr",{className:"operation-list-row operation-list-row_order-data",children:[Object(ue.jsx)("td",{}),Object(ue.jsx)("td",{className:"operation-list-item__data",colSpan:3,children:c})]})]})};a(794);const Re=()=>{const e=Object(oe.c)().views.operations.operationList;return Object(ue.jsx)("div",{className:"no-operations-performed-container",children:e.noOperationsPerformedYet})},Me=o.a.memo(Re),Qe=()=>{const e=Object(oe.c)().views.operations,t=Object(oe.b)(ze),a=Object(oe.b)(S),s=t.map((e=>{var t;return{date:e.date,hash:e.hash,data:O.g.publicPayloadExists(e)?e.payload.public.valueString:"",accountAddress:e.sender,serviceAddress:e.target,serviceName:(null===(t=a.services.filter((t=>t.contractAddress===e.target))[0])||void 0===t?void 0:t.name)||"",ticker:"XTZ",value:e.amount,status:e.status,type:e.type,direction:O.h.Incoming}}));return Object(ue.jsxs)(ve,{title:e.title,children:[Object(ue.jsx)(ve.Title,{children:e.title}),a.initialized?a.services.length?t.length?Object(ue.jsx)(He,{children:s.map((e=>Object(ue.jsx)(He.Item,{...e},e.hash)))}):Object(ue.jsx)(Me,{}):Object(ue.jsx)(me,{}):Object(ue.jsx)(k.a,{active:!0})]})},Je=o.a.memo(Qe);var Ge=a(546);a(795);const Ye=()=>{const e=Object(oe.c)(),t=e.common,a=e.views.services,s=Object(m.g)(),n=Object(r.useCallback)((()=>{s.push(`${p.a.routers.services}/create`)}),[s]);return Object(ue.jsx)(le.a,{bodyStyle:{padding:0},className:"new-service-card-container",onClick:n,children:Object(ue.jsx)("div",{className:"new-service-card",title:a.createNewService,children:Object(ue.jsxs)("div",{className:"new-service-card__info",children:[Object(ue.jsx)(Ge.a,{className:"new-service-card__icon"}),Object(ue.jsx)("span",{children:t.new})]})})})},We=o.a.memo(Ye);var Ve=a(339),Ze=a(861),$e=a(340),qe=a(855);a(796);const Xe=e=>{const t=Object(oe.c)().views.services;return e.deleted?Object(ue.jsx)(qe.a,{icon:Object(ue.jsx)(Ve.a,{}),className:"tag-active tag-active_deleted",children:t.status.deleted}):e.paused?Object(ue.jsx)(qe.a,{icon:Object(ue.jsx)(Ze.a,{}),className:"tag-active tag-active_paused",children:t.status.paused}):Object(ue.jsx)(qe.a,{icon:Object(ue.jsx)($e.a,{}),className:"tag-active tag-active_active",children:t.status.active})},et=o.a.memo(Xe);a(797);const tt=e=>Object(ue.jsx)(qe.a,{className:"tag-custom",children:e.text}),at=o.a.memo(tt);a(798);const st=e=>{const t=Object(m.g)(),a=Object(oe.c)().common,s=Object(r.useCallback)((a=>{const s=a.target.tagName.toLowerCase();"svg"!==s&&"a"!==s&&"path"!==s&&t.push(`${p.a.routers.services}/${e.service.contractAddress}`)}),[t,e.service.contractAddress]),n=Object(O.l)("service-card__logo",e.service.iconUrl?"service-card__logo_image":"service-card__logo_text");return Object(ue.jsx)(le.a,{size:"small",bodyStyle:{padding:0},className:"service-card-container",onClick:s,children:Object(ue.jsxs)("div",{className:"service-card",children:[Object(ue.jsxs)("div",{className:"service-card__info-container",children:[Object(ue.jsxs)("div",{className:"service-card__main-info",children:[e.service.iconUrl?Object(ue.jsx)("img",{className:n,alt:"logo",src:e.service.iconUrl}):Object(ue.jsx)("span",{className:n,children:O.s.getAvatarText(e.service.name)}),Object(ue.jsxs)("div",{className:"service-card__name-container",children:[Object(ue.jsx)("span",{className:"service-card__name",title:e.service.name,children:e.service.name}),Object(ue.jsx)("div",{className:"service-card__tags-container",children:Object(ue.jsx)(et,{paused:e.service.paused,deleted:e.service.deleted})})]})]}),Object(ue.jsx)("div",{className:"service-card__link-container",children:Object(ue.jsx)(re.a,{hash:e.service.contractAddress,className:"service-card__link",showCopyButton:!0,children:e.service.contractAddress})})]}),Object(ue.jsx)("div",{className:"service-card__button-container",children:Object(ue.jsx)(de.a,{className:"service-card__button",type:"primary",children:a.open})})]})})},nt=o.a.memo(st);a(799);const it=()=>{const e=Object(oe.c)().views.services,t=Object(oe.b)(S),a=Object(oe.b)(z).map((e=>Object(ue.jsx)(nt,{service:e},e.contractAddress)));return Object(ue.jsxs)(ve,{title:e.title,children:[Object(ue.jsx)(ve.Title,{children:e.title}),t.initialized?t.services.length?Object(ue.jsxs)("div",{className:"services-container",children:[a,Object(ue.jsx)(We,{})]}):Object(ue.jsx)(be,{}):Object(ue.jsx)(k.a,{active:!0})]})},ct=o.a.memo(it);var rt=a(849);a(800);const ot=e=>{const t=Object(oe.c)().views.services.dangerZone,a=Object(oe.a)(),s=Object(r.useCallback)((()=>{a(Y({service:e.service,paused:!e.service.paused}))}),[a,e.service]),n=Object(r.useCallback)((()=>{a(W({service:e.service,deleted:!e.service.deleted}))}),[a,e.service]),i=Object(r.useCallback)(((e,t,a)=>{rt.a.confirm({title:"Confirm Operation",onOk:a,content:Object(ue.jsx)("p",{children:e}),okText:"Yes",okType:t?"danger":"primary",cancelText:"No",centered:!0,transitionName:"",maskTransitionName:""})}),[]),c=Object(r.useCallback)((()=>{const a=e.service.paused?t.unPauseServiceConfirmation:t.pauseServiceConfirmation;i(a,!1,s)}),[i,t.pauseServiceConfirmation,t.unPauseServiceConfirmation,s,e.service.paused]),o=Object(r.useCallback)((()=>{const a=e.service.deleted?t.unDeleteServiceConfirmation:t.deleteServiceConfirmation;i(a,!e.service.deleted,n)}),[i,t.deleteServiceConfirmation,t.unDeleteServiceConfirmation,n,e.service.deleted]);return Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)("div",{className:"service-danger-zone",children:[Object(ue.jsx)("span",{className:"service-danger-zone__header",children:t.title}),Object(ue.jsxs)("div",{className:"service-danger-zone__button-container",children:[Object(ue.jsx)("p",{children:e.service.paused?t.unPauseServiceDescription:t.pauseServiceDescription}),Object(ue.jsx)(de.a,{className:"service-button",type:"default",onClick:c,children:e.service.paused?t.unPauseService:t.pauseService})]}),Object(ue.jsx)("hr",{className:"service-danger-zone__divider"}),Object(ue.jsxs)("div",{className:"service-danger-zone__button-container",children:[Object(ue.jsx)("p",{children:e.service.deleted?t.unDeleteServiceDescription:t.deleteServiceDescription}),Object(ue.jsx)(de.a,{className:"service-button",type:"primary",danger:!0,onClick:o,children:e.service.deleted?t.unDeleteService:t.deleteService})]})]})})},lt=o.a.memo(ot);var dt=a(346),ut=a(851),mt=a(856),bt=a(852),jt=a(843),vt=a(846);a(801);const pt=ut.a.Search,ht=Object.values(O.c).map((e=>({label:e,value:e}))),Ot=e=>{var t;const a=Object(oe.c)(),s=a.common,n=a.views.services,i=Object(u.b)(),[c,o]=Object(r.useState)((null===(t=ht[0])||void 0===t?void 0:t.value)||O.c.Ed25519),l=Object(r.useCallback)((e=>{o(e.target.value)}),[]),[d,m]=Object(r.useState)(""),b=Object(r.useCallback)((e=>{m(e.target.value)}),[]),[j,v]=gt(c),p=Object(r.useRef)(null),h=Object(r.useRef)(null),y=Object(r.useCallback)((e=>{const t=e.current;t&&(t.select(),navigator.clipboard.writeText(t.state.value))}),[]),g=Object(r.useCallback)((()=>{i(V({service:e.service,signingKey:{name:d,publicKey:j}}))}),[i,d,e.service,j]);return Object(ue.jsxs)(rt.a,{className:"api-key-modal",title:`${n.devZone.addKey} (${a.common.comingSoon.toLowerCase()})`,centered:!0,destroyOnClose:!0,visible:e.visible,onCancel:e.onCancel,footer:Object(ue.jsxs)("div",{className:"api-key-modal__footer",children:[Object(ue.jsx)(de.a,{onClick:e.onCancel,children:s.cancel},"back"),Object(ue.jsx)(mt.a,{disabled:!d,title:n.devZone.saveSecretKeyConfirm,placement:"topRight",onConfirm:g,okText:s.yes,cancelText:s.no,children:Object(ue.jsx)(de.a,{className:"api-key-modal__ok-button",type:"primary",disabled:!d,children:n.devZone.saveKeys},"submit")})]}),children:[Object(ue.jsxs)("span",{className:"api-key-modal__label",children:[n.devZone.name,":"]}),Object(ue.jsx)(ut.a,{autoFocus:!0,value:d,onChange:b}),Object(ue.jsxs)("span",{className:"api-key-modal__label",children:[n.devZone.algorithm,":"]}),Object(ue.jsx)(bt.a.Group,{options:ht,value:c,onChange:l}),Object(ue.jsx)(jt.a,{}),Object(ue.jsxs)("span",{className:"api-key-modal__label",children:[n.devZone.publicKey,":"]}),Object(ue.jsx)(pt,{ref:p,readOnly:!0,value:j,enterButton:Object(ue.jsx)(de.a,{icon:Object(ue.jsx)(dt.a,{})}),onSearch:()=>y(p)}),Object(ue.jsxs)("span",{className:"api-key-modal__label",children:[n.devZone.secretKey,":"]}),Object(ue.jsx)(pt,{ref:h,readOnly:!0,value:v,enterButton:Object(ue.jsx)(de.a,{icon:Object(ue.jsx)(dt.a,{})}),onSearch:()=>y(h)}),Object(ue.jsx)(vt.a.Text,{mark:!0,children:n.devZone.saveSecretKeyWarning})]})},yt=o.a.memo(Ot),gt=e=>{switch(e){case O.c.Ed25519:return["edpkvQXtVcy8YrBLmMhn8EDt4Zb46TWZX1QUxxepFzJgsWU6YKadJP","edskRwse4Z8ZZNCC7xzCEUrTBtCeEPhv8gfBiWrE8cysRQpz45HCQjChdDckNEBZZMCxjPMkHhmGkUnwBs22cKr2nrwiGfQHsP"];case O.c.Secp256k1:return["sppk7cjayJkatAA6Kzd9w6DSRrRDq6JoRAfugi1fqahpyjCBRCLGfob","spsk1VyxSVYfX3CfNpSNDxBdR97LnAdQA59jWpc4HYXtYg1cX53V6Y"];case O.c.P256:return["p2pk65H621C6fgfcuhiUcQmx3GRz8iNxjzMB1BG2WQKAYKEcbVzyJMD","p2sk2yHAwhsLaRCm8zAfN4K1Py7fBhxgR1kAB5SCYn9yGWofkjqNTN"];default:throw new Error("Unknown algorithm type")}};var ft=a(862),xt=a(845);a(803);const wt=e=>{const t=Object(oe.c)().views.services,a=Object(u.b)(),s=Object.entries(e.service.signingKeys).map((([e,t])=>({name:t.name,publicKey:t.publicKey}))),n=Object(r.useCallback)(((e,t)=>{rt.a.confirm({title:"Confirm Operation",onOk:t,content:Object(ue.jsx)("p",{children:e}),okText:"Yes",okType:"danger",cancelText:"No",centered:!0,transitionName:"",maskTransitionName:""})}),[]),i=Object(r.useCallback)((s=>{const i=`${t.devZone.deleteKeyConfirmation}: ${s.name}`;n(i,(()=>{a(Z({service:e.service,publicKey:s.publicKey}))}))}),[n,a,e.service,t.devZone.deleteKeyConfirmation]);return Object(ue.jsx)(xt.b,{size:"small",bordered:!0,children:s.length?s.map((e=>Object(ue.jsxs)(xt.b.Item,{className:"api-keys__item",children:[Object(ue.jsx)("span",{children:e.name}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("span",{className:"api-keys__item-key",children:e.publicKey}),Object(ue.jsx)(de.a,{onClick:()=>i(e),icon:Object(ue.jsx)(ft.a,{}),danger:!0,type:"link"})]})]},e.publicKey))):Object(ue.jsx)(xt.b.Item,{className:"api-keys__item api-keys__item_empty",children:t.devZone.noApiKeysAddedYet})})},kt=o.a.memo(wt);a(808);const At=e=>{const t=Object(oe.c)(),a=t.views.services,[s,n]=Object(r.useState)(!1),i=Object(r.useCallback)((()=>n(!0)),[]),c=Object(r.useCallback)((()=>n(!1)),[]);return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)("div",{className:"service-danger-zone__button-container",children:[Object(ue.jsxs)("span",{className:"service-dev-zone__header",children:[`${a.devZone.title} (${t.common.comingSoon.toLowerCase()}`,")"]}),Object(ue.jsx)(de.a,{className:"service-button",type:"default",onClick:i,children:a.devZone.addKey})]}),Object(ue.jsx)(kt,{service:e.service}),Object(ue.jsx)(yt,{service:e.service,visible:s,onCancel:c})]})},Ct=o.a.memo(At);var _t=a(863);a(809);const St=({service:e})=>{const t=Object(m.g)(),a=Object(oe.c)().views.services,s=Object(O.l)("service__logo",(null===e||void 0===e?void 0:e.iconUrl)?"service__logo_image":"service__logo_text"),n=(null===e||void 0===e?void 0:e.allowedOperationType)===O.j.Payment||(null===e||void 0===e?void 0:e.allowedOperationType)===O.j.All,i=(null===e||void 0===e?void 0:e.allowedOperationType)===O.j.Donation||(null===e||void 0===e?void 0:e.allowedOperationType)===O.j.All,c=Object(r.useCallback)((()=>{t.push(`${p.a.routers.services}/${e.contractAddress}?edit=true`)}),[t,e.contractAddress]);return Object(ue.jsxs)("div",{className:"service-header",children:[Object(ue.jsxs)("div",{className:"service-header__logo-container",children:[e.iconUrl?Object(ue.jsx)("img",{className:s,alt:"logo",src:e.iconUrl}):Object(ue.jsx)("span",{className:s,children:O.s.getAvatarText(e.name)}),Object(ue.jsxs)("div",{className:"service-header__main-info",children:[Object(ue.jsx)("h1",{children:e.name}),Object(ue.jsx)(re.a,{hash:e.contractAddress,className:"service__link",showCopyButton:!0,children:e.contractAddress}),Object(ue.jsxs)("div",{className:"service-header__tags-container",children:[Object(ue.jsx)(et,{paused:e.paused,deleted:e.deleted}),n&&Object(ue.jsx)(at,{text:a.operations.paymentsEnabled}),i&&Object(ue.jsx)(at,{text:a.operations.donationsEnabled})]})]})]}),Object(ue.jsx)(de.a,{className:"service-button",icon:Object(ue.jsx)(_t.a,{}),type:"primary",onClick:c,children:a.editing.editService})]})},Nt=o.a.memo(St);var Tt,zt=a(853),Pt=a(864),Dt=a(865),Ut=a(866),It=a(867),Bt=a(868),Et=a(869),Lt=a(870);function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function Ht({title:e,titleId:t,...a},s){return r.createElement("svg",Kt({width:"1000px",height:"1000px",viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,Tt||(Tt=r.createElement("g",{id:"Artboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("circle",{id:"Oval",fill:"currentColor",cx:500,cy:500,r:500}),r.createElement("path",{d:"M226.328419,494.722069 C372.088573,431.216685 469.284839,389.350049 517.917216,369.122161 C656.772535,311.36743 685.625481,301.334815 704.431427,301.003532 C708.567621,300.93067 717.815839,301.955743 723.806446,306.816707 C728.864797,310.92121 730.256552,316.46581 730.922551,320.357329 C731.588551,324.248848 732.417879,333.113828 731.758626,340.040666 C724.234007,419.102486 691.675104,610.964674 675.110982,699.515267 C668.10208,736.984342 654.301336,749.547532 640.940618,750.777006 C611.904684,753.448938 589.856115,731.588035 561.733393,713.153237 C517.726886,684.306416 492.866009,666.349181 450.150074,638.200013 C400.78442,605.66878 432.786119,587.789048 460.919462,558.568563 C468.282091,550.921423 596.21508,434.556479 598.691227,424.000355 C599.00091,422.680135 599.288312,417.758981 596.36474,415.160431 C593.441168,412.561881 589.126229,413.450484 586.012448,414.157198 C581.598758,415.158943 511.297793,461.625274 375.109553,553.556189 C355.154858,567.258623 337.080515,573.934908 320.886524,573.585046 C303.033948,573.199351 268.692754,563.490928 243.163606,555.192408 C211.851067,545.013936 186.964484,539.632504 189.131547,522.346309 C190.260287,513.342589 202.659244,504.134509 226.328419,494.722069 Z",id:"Path-3",fill:"#FFFFFF"}))))}const Ft=r.forwardRef(Ht);a.p;const Rt={[O.b.Common]:Pt.a,[O.b.Email]:Dt.a,[O.b.Telegram]:Ft,[O.b.Facebook]:Ut.a,[O.b.Twitter]:It.a,[O.b.Instagram]:Bt.a,[O.b.GitHub]:Et.a,[O.b.Reddit]:Lt.a};a(810);const Mt=new O.f,Qt=e=>{const t=Mt.getLinkInfo(e.link);if(!t)return null;const a=Rt[t.icon];return Object(ue.jsxs)("span",{className:"service-link",children:[Object(ue.jsx)(a,{className:"service-link__icon"}),Object(ue.jsx)(re.b,{className:"service-link__link",href:t.formattedLink,children:t.displayLink})]})};a(811);const Jt=e=>Object(ue.jsx)("div",{className:Object(O.l)("service-links",e.className),children:e.links.map((e=>Object(ue.jsx)(Qt,{link:e},e))).filter(Boolean)});a(812);const Gt=new O.f,Yt=e=>{const t=Gt.getLinkInfo(e.value,!0),a=Object(r.useCallback)((t=>{e.onChange({value:t.target.value})}),[e]);if(!t)return null;const s=Rt[t.icon];return Object(ue.jsxs)("div",{className:"service-link-editor",children:[Object(ue.jsx)(s,{className:"service-link-editor__icon"}),Object(ue.jsx)(ut.a,{className:"service-link-editor__input",value:e.value,onChange:a}),Object(ue.jsx)(de.a,{className:"service-link-editor__delete-button",type:"text",danger:!0,icon:Object(ue.jsx)(ft.a,{}),onClick:e.onDelete})]})};a(813);const Wt=e=>{const t=Object(oe.c)().views.services,a=Object(r.useCallback)(((t,a)=>{const s=[...e.value];s[t]=a.value,e.onChange({value:s})}),[e]),s=Object(r.useCallback)((t=>{const a=[...e.value];a.splice(t,1),e.onChange({value:a})}),[e]),n=Object(r.useCallback)((()=>{const t=[...e.value,""];e.onChange({value:t})}),[e]),i=e.value.map(((e,t)=>Object(ue.jsx)(Yt,{value:e,onDelete:()=>s(t),onChange:e=>a(t,e)},t)));return Object(ue.jsxs)("div",{className:"service-links-editor",children:[i,Object(ue.jsx)(de.a,{className:"service-links-editor__button",icon:Object(ue.jsx)(Ge.a,{}),onClick:n,children:t.editing.addLink})]})};a(814);const Vt=({service:e})=>{const t=Object(oe.b)(_),a=[];null===e||void 0===e||e.allowedTokens.assets.forEach((e=>{const s=t.get(e);s&&a.push(s)}));const s=[];return(null===e||void 0===e?void 0:e.allowedTokens.tez)&&s.push(Object(ue.jsx)(re.d.Item,{className:"service-token-list-item",ticker:O.t.symbol,name:O.t.name,decimals:O.t.decimals,iconSrc:O.t.thumbnailUri,highlightSign:!0},O.t.symbol)),a.forEach((e=>{var t,a,n,i;s.push(Object(ue.jsx)(re.d.Item,{className:"service-token-list-item",ticker:(null===(a=e.metadata)||void 0===a?void 0:a.symbol)||"unknown",name:(null===(n=e.metadata)||void 0===n?void 0:n.name)||"unknown",decimals:e.metadata?e.metadata.decimals:2,iconSrc:null===(i=e.metadata)||void 0===i?void 0:i.thumbnailUri,highlightSign:!0},null===(t=e.metadata)||void 0===t?void 0:t.symbol))})),Object(ue.jsx)(re.d,{children:s})},Zt=o.a.memo(Vt);a(815);const $t=new O.f,qt=e=>{const t=Object(m.g)(),a=Object(oe.c)(),s=a.common,n=a.views.services,i=Object(oe.b)(A.b),c=Object(oe.a)(),o=Object(r.useCallback)((()=>{t.push(`${p.a.routers.services}/${e.service.contractAddress}`)}),[t,e.service.contractAddress]),[l,d]=Object(r.useState)(!1),[u,b]=Object(r.useState)(e.service.name),[j,v]=Object(r.useState)(e.service.description),[h,y]=Object(r.useState)(e.service.links),g=Object(r.useCallback)((()=>{const e=!!u&&h.every((e=>!!$t.getLinkInfo(e)));d(e)}),[h,u]);Object(r.useEffect)((()=>g()),[g]);const f=Object(r.useCallback)((e=>{b(e.target.value),g()}),[g]),x=Object(r.useCallback)((e=>{v(e.target.value),g()}),[g]),w=Object(r.useCallback)((e=>{y(e.value),g()}),[g]),[k,C]=Object(r.useState)(e.service.allowedOperationType===O.j.All||e.service.allowedOperationType===O.j.Payment),[_,S]=Object(r.useState)(e.service.allowedOperationType===O.j.All||e.service.allowedOperationType===O.j.Donation),N=Object(r.useCallback)((e=>{C(e.target.checked),e.target.checked||_||S(!0)}),[_]),T=Object(r.useCallback)((e=>{S(e.target.checked),e.target.checked||k||C(!0)}),[k]),z=Object(r.useCallback)((()=>{const t=k&&_?O.j.All:k?O.j.Payment:O.j.Donation,a={...e.service,name:u,description:j,allowedOperationType:t,links:h,network:e.isCreateMode&&i?i.network:e.service.network};e.isCreateMode?c(G(a)):c(J(a)),o()}),[_,k,i,j,c,o,h,u,e.isCreateMode,e.service]),P=e.isCreateMode?n.editing.createService:n.editing.updateService;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(ve.Title,{children:P}),Object(ue.jsxs)("div",{className:"service-edit",children:[Object(ue.jsx)("span",{className:"service-edit__caption",children:n.editing.serviceName}),Object(ue.jsx)(ut.a,{placeholder:n.editing.serviceName,value:u,onChange:f}),Object(ue.jsx)("span",{className:"service-edit__caption",children:n.editing.description}),Object(ue.jsx)(ut.a.TextArea,{rows:5,placeholder:n.editing.description,value:j,onChange:x}),Object(ue.jsxs)("div",{className:"service-edit__lists-container",children:[Object(ue.jsxs)("div",{className:"service-edit__list-container",children:[Object(ue.jsx)("span",{className:"service-edit__list-header",children:n.allowedCurrencies}),Object(ue.jsx)(Zt,{service:e.service}),Object(ue.jsx)(de.a,{className:"service-edit__button",disabled:!0,icon:Object(ue.jsx)(Ge.a,{}),children:`${n.editing.addCurrency} (${s.comingSoon})`})]}),Object(ue.jsxs)("div",{className:"service-edit__list-container",children:[Object(ue.jsx)("span",{className:"service-edit__list-header",children:n.links}),Object(ue.jsx)(Wt,{value:h,onChange:w})]})]}),Object(ue.jsx)("span",{className:"service-edit__caption",children:n.editing.accept}),Object(ue.jsxs)("div",{className:"service-edit__accept-list",children:[Object(ue.jsx)(zt.a,{className:"service-edit__accept-list-item",checked:k,onChange:N,children:n.editing.acceptPayments}),Object(ue.jsx)(zt.a,{className:"service-edit__accept-list-item",checked:_,onChange:T,children:n.editing.acceptDonations})]}),Object(ue.jsxs)("div",{className:"service-edit__buttons-container",children:[Object(ue.jsx)(de.a,{className:"service-edit__button",onClick:o,children:s.cancel}),Object(ue.jsx)(de.a,{className:"service-edit__button",onClick:z,disabled:!l,type:"primary",children:P})]})]})]})},Xt=o.a.memo(qt);a(816);const ea=({service:e})=>{const t=Object(oe.c)().views.services,a=Object(m.g)(),s=Object(r.useCallback)((()=>{a.push(`${p.a.routers.acceptPayments}/${e.contractAddress}`)}),[a,e.contractAddress]);return Object(ue.jsxs)("div",{className:"service-view-zone",children:[Object(ue.jsx)("p",{className:"service-view-zone__description",children:e.description}),Object(ue.jsxs)("div",{className:"service-view-zone__lists-container",children:[Object(ue.jsxs)("div",{className:"service-view-zone__list-container",children:[Object(ue.jsx)("span",{className:"service-view-zone__list-header",children:t.allowedCurrencies}),Object(ue.jsx)(Zt,{service:e})]}),Object(ue.jsxs)("div",{className:"service-view-zone__list-container",children:[Object(ue.jsx)("span",{className:"service-view-zone__list-header",children:t.links}),Object(ue.jsx)(Jt,{className:"service-info__links",links:e.links})]})]}),Object(ue.jsxs)("div",{className:"service-view-zone__button-container",children:[Object(ue.jsx)("p",{children:t.acceptPaymentsDescription}),Object(ue.jsx)(de.a,{onClick:s,className:"service-button",type:"primary",children:t.acceptPayments})]})]})},ta=o.a.memo(ea);a(817);let aa;!function(e){e[e.ViewAndEdit=0]="ViewAndEdit",e[e.Create=1]="Create"}(aa||(aa={}));const sa=e=>{const t=!!Object(oe.d)().get("edit"),{address:a}=Object(m.i)(),{services:s,initialized:n}=Object(oe.b)(S),i=e.mode===aa.Create,c=i?{...O.n}:s.filter((e=>e.contractAddress===a))[0],r=n&&c?c.name:a,o=Object(O.l)("service-container",t||i?"service-container_edit":"service-container_view");return Object(ue.jsx)(ve,{title:r,className:o,children:n&&c?t||i?Object(ue.jsx)(Xt,{service:c,isCreateMode:i}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Nt,{service:c}),Object(ue.jsx)(ta,{service:c}),Object(ue.jsx)(Ct,{service:c}),Object(ue.jsx)(lt,{service:c})]}):Object(ue.jsx)(k.a,{active:!0})})},na=o.a.memo(sa);var ia=a(871),ca=a(872),ra=a(873),oa=a(874);a(818);const la=()=>{const e=Object(oe.c)().views.about;return Object(ue.jsxs)(ve,{title:e.title,className:"about-view",children:[Object(ue.jsx)(ve.Title,{className:"about-view__title",children:e.detailedTitle}),Object(ue.jsxs)("div",{className:"about-view__version-info",children:[Object(ue.jsx)(re.b,{href:p.a.app.version.link,children:p.a.app.version.name}),"\xa0",e.build,"\xa0",Object(ue.jsx)(re.b,{href:p.a.app.buildInfo.link,children:p.a.app.buildInfo.commitShortSha})]}),Object(ue.jsxs)("div",{className:"about-view__links",children:[Object(ue.jsx)(re.b,{className:"about-link",href:p.a.links.tezosPayments.webSite,children:Object(ue.jsx)(ia.a,{className:"about-link__icon"})}),Object(ue.jsx)(re.b,{className:"about-link",href:p.a.links.tezosPayments.gitHub,children:Object(ue.jsx)(ca.a,{className:"about-link__icon"})}),Object(ue.jsx)(re.b,{className:"about-link",href:p.a.links.tezosPayments.telegram,children:Object(ue.jsx)(Ft,{className:"about-link__icon"})}),Object(ue.jsx)(re.b,{className:"about-link",href:p.a.links.tezosPayments.twitter,children:Object(ue.jsx)(ra.a,{className:"about-link__icon"})}),Object(ue.jsx)(re.b,{className:"about-link",href:p.a.links.tezosPayments.reddit,children:Object(ue.jsx)(oa.a,{className:"about-link__icon"})})]}),Object(ue.jsxs)("div",{className:"about-view__powered-by",children:[e.poweredBy,"\xa0",Object(ue.jsx)(re.b,{href:p.a.links.tzktIo,children:e.tzKt}),"\xa0",e.api]})]})},da=o.a.memo(la);a(819);var ua=a(850),ma=a(854);a(820);const ba=()=>{const e=Object(oe.a)(),t=Object(r.useCallback)((()=>{e(ne(O.p.edo2net))}),[e]),a=Object(r.useCallback)((t=>{const a=O.q.find((e=>e.id===t.key));a&&e(ne(a))}),[e]),s=Object(oe.c)().views.connect.actions.connect,n=[O.p.granadanet].map((e=>{const t=p.a.tezos.networks[e.name];return Object(ue.jsx)(ua.a.Item,{children:Object(ue.jsxs)("div",{className:"connect-dropdown__item-container",children:[Object(ue.jsx)("div",{className:"connect-dropdown__item-icon-container",children:Object(ue.jsx)("div",{className:"connect-dropdown__item-icon",style:{backgroundColor:t.color}})}),Object(ue.jsx)("div",{className:"connect-dropdown__item-text",children:`${s.connectTo} ${t.title}`})]})},e.id)})),i=Object(ue.jsx)(ua.a,{onClick:a,children:n});return Object(ue.jsx)(ma.a.Button,{className:"connect-dropdown",type:"primary",onClick:t,overlay:i,children:`${s.connectTo} ${p.a.tezos.networks.edo2net.title}`})},ja=o.a.memo(ba),va=()=>{const e=Object(oe.c)().views.connect.actions.connect;return Object(oe.b)(A.b)?Object(ue.jsx)(m.a,{push:!0,to:p.a.routers.overview}):Object(ue.jsx)(ve,{title:"Connect",className:"connect",children:Object(ue.jsxs)("div",{className:"connect-info-container",children:[Object(ue.jsx)("div",{className:"connect-info-container__message",children:e.description}),Object(ue.jsx)(ja,{})]})})},pa=o.a.memo(va);var ha=a(249),Oa=a(847);a(821);const ya=e=>{const t=[{label:O.t.symbol,value:O.t.symbol,imageUrl:O.t.thumbnailUri}].map((e=>Object(ue.jsx)(ha.a.Option,{value:e.value,label:e.label,children:Object(ue.jsxs)("div",{className:"payment-amount__select-option",children:[Object(ue.jsx)("img",{className:"payment-amount__select-option-image",alt:e.label,src:e.imageUrl}),Object(ue.jsx)("span",{className:"payment-amount__select-option-label",children:e.label})]})},e.label)));return Object(ue.jsxs)("div",{className:"payment-amount",children:[Object(ue.jsx)(ha.a,{className:"payment-amount__select",value:O.t.symbol,children:t}),Object(ue.jsx)(Oa.a,{className:"payment-amount__input",min:"0",value:e.value.toString(),onChange:e.onChange})]})},ga=o.a.memo(ya);a(822);const fa=e=>{const t=Object(oe.c)(),a=t.views.acceptPayments,s=t.views.services,n=Object(oe.b)(z).map((e=>({label:e.name,value:e.contractAddress}))),i=[{label:"Payment",value:O.e.Payment},{label:"Donation",value:O.e.Donation}];return Object(ue.jsxs)("div",{className:"accept-payments-settings",children:[Object(ue.jsx)("span",{className:"accept-payments-settings__caption",children:s.service}),Object(ue.jsx)(ha.a,{className:"accept-payments-settings__service-select",options:n,value:e.serviceAddress,onChange:e.onServiceAddressChange}),Object(ue.jsx)("span",{className:"accept-payments-settings__caption",children:a.type}),Object(ue.jsx)(bt.a.Group,{className:"accept-payments-settings__type-select",optionType:"button",buttonStyle:"outline",options:i,value:e.paymentType,onChange:e.onPaymentTypeChange}),e.paymentType===O.e.Payment?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("span",{className:"accept-payments-settings__caption",children:a.amount}),Object(ue.jsx)(ga,{onChange:e.onAmountChange,value:e.amount}),Object(ue.jsx)("span",{className:"accept-payments-settings__header",children:a.paymentPublicData}),Object(ue.jsx)("span",{className:"accept-payments-settings__caption",children:a.orderId}),Object(ue.jsx)(ut.a,{className:"accept-payments-settings__order-id-input",value:e.publicData,onChange:e.onPublicDataChange}),Object(ue.jsx)("span",{className:"accept-payments-settings__help-text",children:a.orderIdHelpText})]}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("span",{className:"accept-payments-settings__header",children:a.donationData}),Object(ue.jsx)("span",{className:"accept-payments-settings__caption",children:a.shortDescription}),Object(ue.jsx)(ut.a.TextArea,{className:"accept-payments-settings__order-id-input",value:e.donationData,onChange:e.onDonationDataChange,showCount:!0,rows:5,maxLength:250}),Object(ue.jsx)("span",{className:"accept-payments-settings__help-text",children:a.shortDescriptionHelpText})]})]})};var xa=a(374);a(824);const wa=e=>{const t=Object(oe.c)().views.acceptPayments;return Object(ue.jsx)("div",{className:"failed-validation-result",children:t.errors.fillRequiredData})};a(825);const ka=e=>{var t;const a=[{key:"directLink",tab:"Direct Link"},{key:"widget",tab:"Widget",disabled:!0},{key:"typescript",tab:"TypeScript Library",disabled:!0},{key:"dotnet",tab:".NET Library",disabled:!0}],s=e.paymentType===O.e.Payment?{created:new Date,targetAddress:e.serviceAddress,type:e.paymentType,amount:new i.a(e.amount),data:e.publicData?{public:{orderId:e.publicData}}:void 0,urls:[]}:{targetAddress:e.serviceAddress,type:e.paymentType,urls:[]},n=s.type===O.e.Payment?O.d.validate(s):O.a.validate(s);return Object(ue.jsx)(le.a,{className:"generator",style:{width:"100%"},tabList:a,activeTabKey:null===(t=a[0])||void 0===t?void 0:t.key,children:n?Object(ue.jsx)(wa,{results:n}):Object(ue.jsx)(xa.a,{paymentOrDonation:s})})},Aa=o.a.memo(ka);a(826);const Ca=()=>{const e=Object(oe.c)().views.acceptPayments,t=Object(oe.b)(S),{address:a}=Object(m.i)(),[s,n]=Object(r.useState)(a),[i,c]=Object(r.useState)(O.e.Payment),[o,l]=Object(r.useState)(1),[d,u]=Object(r.useState)(""),[b,j]=Object(r.useState)(""),v=Object(r.useCallback)((e=>{n(e)}),[]),p=Object(r.useCallback)((e=>{c(e.target.value)}),[]),h=Object(r.useCallback)((e=>{const t=+e;!isNaN(t)&&t>0&&l(t)}),[]),y=Object(r.useCallback)((e=>{u(e.target.value)}),[]),g=Object(r.useCallback)((e=>{j(e.target.value)}),[]);return Object(ue.jsxs)(ve,{title:e.title,children:[Object(ue.jsx)(ve.Title,{children:e.title}),t.initialized?t.services.length?Object(ue.jsxs)("div",{className:"accept-payments",children:[Object(ue.jsx)("div",{className:"accept-payments__settings",children:Object(ue.jsx)(fa,{serviceAddress:s,onServiceAddressChange:v,paymentType:i,onPaymentTypeChange:p,amount:o,onAmountChange:h,publicData:d,onPublicDataChange:y,donationData:b,onDonationDataChange:g})}),Object(ue.jsx)("div",{className:"accept-payments__generator",children:Object(ue.jsx)(Aa,{serviceAddress:s,paymentType:i,amount:o,publicData:d,donationData:b})})]}):Object(ue.jsx)(be,{}):Object(ue.jsx)(k.a,{active:!0})]})},_a=o.a.memo(Ca);var Sa=a(252),Na=a(875),Ta=a(876),za=a(877);a(827);class Pa extends O.k{static getShortAddress(e){return`${e.address.substr(0,9)}...${e.address.substr(e.address.length-6,6)}`}}a(828);const Da=e=>{const t=p.a.tezos.networks[e.network.name];return Object(ue.jsxs)("div",{className:"account-network-group",children:[Object(ue.jsx)("div",{className:"account-network-group__icon-container",children:Object(ue.jsx)("div",{className:"account-network-group__icon",style:{backgroundColor:t.color}})}),Object(ue.jsx)("div",{children:t.title})]})},Ua=o.a.memo(Da),Ia=()=>{const e=Object(oe.c)(),t=e.views.header.accountActions,a=Object(oe.b)(A.a),s=Object(oe.b)(A.b),n=(null===s||void 0===s?void 0:s.address)||"",i=Object(oe.b)(A.c),c=i&&i.explorers[i.default.explorer],o=Object(r.useCallback)((()=>{navigator.clipboard.writeText(n)}),[n]),l=Object(r.useCallback)((()=>{c&&window.open(`${c.url}${n}`,"_blank")}),[n,c]),d=Object(oe.a)(),u=Object(r.useCallback)((()=>{d(ie())}),[d]);if(!s)return null;const m=[...a.keys()].map((e=>{var t;return Object(ue.jsx)(ua.a.ItemGroup,{title:Object(ue.jsx)(Ua,{network:e}),children:null===(t=a.get(e))||void 0===t?void 0:t.map((e=>Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Na.a,{}),className:Object(O.l)("account-menu-item",{"account-menu-item_selected":e.address===s.address}),style:e.address!==s.address?void 0:{backgroundColor:Sa.a[0],color:Sa.a.primary},children:e.address},e.address)))},e.id)})),b=Object(ue.jsxs)(ua.a,{children:[m,Object(ue.jsx)(ua.a.Divider,{}),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(dt.a,{}),onClick:o,children:t.copyAddress.title},1),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Ue.a,{}),onClick:l,children:`${t.viewOn} ${null===c||void 0===c?void 0:c.title}`},2),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Ta.a,{}),children:`${t.connectAnotherAccount.title} (${e.common.comingSoon.toLowerCase()})`},3),Object(ue.jsx)(ua.a.Divider,{}),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(za.a,{}),onClick:u,children:t.disconnect.title},5)]});return Object(ue.jsx)(ma.a,{overlay:b,placement:"bottomRight",children:Object(ue.jsx)(de.a,{style:{borderColor:Sa.a.primary,color:Sa.a.primary},className:"account-dropdown",children:Pa.getShortAddress(s)})})},Ba=o.a.memo(Ia);a(829);const Ea=()=>{const e=Object(oe.b)(A.b);return Object(ue.jsxs)("header",{className:"header",children:[Object(ue.jsx)(Pe.a,{className:"header__title",to:p.a.routers.overview,children:p.a.app.name}),e&&Object(ue.jsx)(Ba,{})]})},La=o.a.memo(Ea);var Ka=a(878),Ha=a(879),Fa=a(880),Ra=a(881),Ma=a(341);a(830);const Qa=()=>{const e=Object(m.h)(),t=Object(oe.c)().views,a=Object(m.g)(),s=Object(r.useCallback)((()=>{a.push(`${p.a.routers.services}/create`)}),[a]),n=Object(r.useCallback)((()=>{a.push(`${p.a.routers.acceptPayments}`)}),[a]);return Object(ue.jsxs)("nav",{className:"navbar",children:[Object(ue.jsxs)(ua.a,{className:"navbar__menu",mode:"inline",selectedKeys:[e.pathname],children:[Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Ka.a,{}),children:Object(ue.jsx)(Pe.a,{to:p.a.routers.overview,children:t.overview.title})},p.a.routers.overview),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Ha.a,{}),children:Object(ue.jsx)(Pe.a,{to:p.a.routers.operations,children:t.operations.title})},p.a.routers.operations),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Fa.a,{}),children:Object(ue.jsx)(Pe.a,{to:p.a.routers.services,children:t.services.title})},p.a.routers.services),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Ra.a,{}),disabled:!0,children:t.settings.title},"settings"),Object(ue.jsx)(ua.a.Item,{icon:Object(ue.jsx)(Ma.a,{}),children:Object(ue.jsx)(Pe.a,{to:p.a.routers.about,children:t.about.title})},p.a.routers.about)]}),Object(ue.jsxs)("div",{className:"navbar__bottom-buttons",children:[Object(ue.jsx)(de.a,{onClick:s,children:t.createService.title}),Object(ue.jsx)(de.a,{onClick:n,type:"primary",children:t.acceptPayments.title})]})]})},Ja=o.a.memo(Qa);a(831),a(832);const Ga=()=>{const e=Object(oe.b)(A.d).initialized,t=Object(oe.a)();return Object(r.useEffect)((()=>{t(se())}),[t]),Object(ue.jsxs)("div",{className:"main-container",children:[Object(ue.jsx)(La,{}),Object(ue.jsx)(Ja,{}),e?Object(ue.jsxs)(m.d,{children:[Object(ue.jsx)(re.c,{exact:!0,path:p.a.routers.overview,children:Object(ue.jsx)(Te,{})}),Object(ue.jsx)(re.c,{exact:!0,path:p.a.routers.operations,children:Object(ue.jsx)(Je,{})}),Object(ue.jsx)(re.c,{exact:!0,path:`${p.a.routers.services}/create`,children:Object(ue.jsx)(na,{mode:aa.Create})}),Object(ue.jsx)(re.c,{exact:!0,path:`${p.a.routers.services}/:address`,children:Object(ue.jsx)(na,{mode:aa.ViewAndEdit})}),Object(ue.jsx)(re.c,{exact:!0,path:p.a.routers.services,children:Object(ue.jsx)(ct,{})}),Object(ue.jsx)(re.c,{exact:!0,path:`${p.a.routers.acceptPayments}/:address?`,children:Object(ue.jsx)(_a,{})}),Object(ue.jsx)(m.b,{path:p.a.routers.about,children:Object(ue.jsx)(da,{})}),Object(ue.jsx)(m.b,{path:p.a.routers.connect,children:Object(ue.jsx)(pa,{})})]}):Object(ue.jsx)(k.a,{})]})};var Ya=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,883)).then((({getCLS:t,getFID:a,getFCP:s,getLCP:n,getTTFB:i})=>{t(e),a(e),s(e),n(e),i(e)}))},Wa=a(137);const Va=Object(Wa.b)({accountsState:ce.reducer,servicesState:ee.reducer,balancesState:I.reducer,operationsState:H.reducer});a(833);Object(c.d)();const Za=new class{constructor(){this.services=void 0,this.history=void 0,this._store=void 0,this.services=this.createServices(),this.history=this.createHistory()}get store(){if(!this._store)throw new Error("The application should be started");return this._store}async start(e){this._store=e}createHistory(){return Object(v.a)()}createServices(){const e=new j.a({name:p.a.app.name,colorMode:b.i.LIGHT});return{accountsService:new f(e.client),servicesService:new w.a(e)}}},$a=Object(s.a)({reducer:Va,middleware:e=>e({thunk:{extraArgument:Za},serializableCheck:{isSerializable:e=>Object(s.d)(e)||n.BigNumber.isBigNumber(e)||e instanceof Date}})});d.a.render(Object(ue.jsx)(o.a.StrictMode,{children:Object(ue.jsx)(u.a,{store:$a,children:Object(ue.jsx)(m.c,{history:Za.history,children:Object(ue.jsx)(Ga,{})})})}),document.getElementById("root")),Za.start($a).catch((e=>console.error(e))),window.webApp=Za,window.config=p.a,Ya()}},[[834,1,2]]]);
//# sourceMappingURL=main.a56f3425.chunk.js.map